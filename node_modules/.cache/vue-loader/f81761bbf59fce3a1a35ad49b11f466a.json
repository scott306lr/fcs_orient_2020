{"remainingRequest":"/home/lr/coding/javascript/fcs_orient_2021/orient_frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/lr/coding/javascript/fcs_orient_2021/orient_frontend/src/views/Secret.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/lr/coding/javascript/fcs_orient_2021/orient_frontend/src/views/Secret.vue","mtime":1619200913782},{"path":"/home/lr/coding/javascript/fcs_orient_2021/orient_frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/lr/coding/javascript/fcs_orient_2021/orient_frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/lr/coding/javascript/fcs_orient_2021/orient_frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/lr/coding/javascript/fcs_orient_2021/orient_frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiU2VjcmV0IiwKICBjb21wb25lbnRzOiB7fSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaGludDogSlNPTiwKICAgICAgaGludHM6IEpTT04sCiAgICAgIGdyb3VwOiBKU09OLAogICAgICBncm91cHM6IFtdLAogICAgICBpbnB1dF9uYW1lOiAiIiwKICAgICAgaW5wdXRfc2NvcmU6ICIiLAogICAgICBpbnB1dF9nZW5pZDogIiIsCiAgICAgIHNlbGVjdGVkX2dyb3VwOiAwLAogICAgICBzZWxlY3RlZF9oaW50czogMCwKICAgICAgZ19vcHRpb25zOiBbXSwKICAgICAgaF9vcHRpb25zOiBbXSwKICAgIH07CiAgfSwKICBtb3VudGVkKCkgewogICAgdGhpcy5mZXRjaEdyb3VwcygpCiAgICAvL3RoaXMuZmV0Y2hIaW50cyh0aGlzLmdyb3Vwc1t0aGlzLnNlbGVjdGVkX2dyb3VwXS5pZCk7CiAgfSwKICBjcmVhdGVkKCkgewogICAgLy90aGlzLmdyb3VwX2lkID0gdGhpcy4kcm91dGUucXVlcnkuZ3JvdXA7CiAgfSwKICBtZXRob2RzOiB7CiAgICBhc3luYyBsb2dnaW5nKGdpZCwgaGlkLCBjdXJTY29yZSwgYWRkU2NvcmUpIHsKICAgICAgdmFyIGRhdGUgPSBuZXcgRGF0ZSgpOwogICAgICB2YXIgaGhtbXNzID0KICAgICAgICAgIGRhdGUuZ2V0SG91cnMoKS50b1N0cmluZygpLnBhZFN0YXJ0KDIsICIwIikgKyAiOiIgKwogICAgICAgICAgZGF0ZS5nZXRNaW51dGVzKCkudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAiMCIpICsgIjoiICsKICAgICAgICAgIGRhdGUuZ2V0U2Vjb25kcygpLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgIjAiKTsKCiAgICAgIGF3YWl0IHRoaXMuYXhpb3MKICAgICAgICAucG9zdCgiL2JhY2tlbmQvbG9nZ2luZy8iLCB7CiAgICAgICAgICBncm91cF9pZDogZ2lkLAogICAgICAgICAgZmluX2hpbnRfaWQ6IGhpZCwKICAgICAgICAgIGZpbl90aW1lOiBoaG1tc3MsCiAgICAgICAgICBjdXJfc2NvcmU6IGN1clNjb3JlLAogICAgICAgICAgZ2V0X3Njb3JlOiBhZGRTY29yZSwKICAgICAgICB9KQogICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7CiAgICAgICAgfSk7CiAgICB9LAoKICAgIGFzeW5jIGZldGNoSGludHMoZ2lkKSB7CiAgICAgIGNvbnNvbGUubG9nKGdpZCk7CiAgICAgIGNvbnN0IHZhbF9ncm91cGluZm8gPSBhd2FpdCB0aGlzLmF4aW9zCiAgICAgICAgLmdldCgiL2JhY2tlbmQvZ3JvdXBzaW5mby8iICsgZ2lkICsgIi8iKQogICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7CiAgICAgICAgfSk7CiAgICAgIGNvbnN0IHZhbF9oaW50cyA9IHZhbF9ncm91cGluZm8uaGludHM7CiAgICAgIGNvbnNvbGUubG9nKHZhbF9oaW50cyk7CgogICAgICB0aGlzLmhfb3B0aW9ucyA9IFtdOwogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZhbF9oaW50cy5sZW5ndGg7IGkrKykgewogICAgICAgIHZhciBqc29uRGF0YSA9IHt9OwogICAgICAgIGpzb25EYXRhWyJ2YWx1ZSJdID0gaTsgLy92YWxfaGludHNbaV1bImlkIl07CiAgICAgICAganNvbkRhdGFbInRleHQiXSA9ICJoaW50IGlkOiAiICsgdmFsX2hpbnRzW2ldWyJoaW50X2lkIl07CiAgICAgICAgdGhpcy5oX29wdGlvbnMucHVzaChqc29uRGF0YSk7CiAgICAgIH0KICAKICAgICAgdGhpcy5oaW50cyA9IHZhbF9oaW50czsKICAgIH0sCgogICAgYXN5bmMgZmV0Y2hHcm91cHMoKSB7CiAgICAgIGNvbnN0IHZhbF9ncm91cHMgPSBhd2FpdCB0aGlzLmF4aW9zCiAgICAgICAgLmdldCgiL2JhY2tlbmQvZ3JvdXBzLyIpCiAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTsKICAgICAgICB9KTsKICAgICAgLy90aGlzLmdyb3VwcyA9IHZhbF9ncm91cHM7CiAgICAgIHRoaXMuZ19vcHRpb25zID0gW107CiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmFsX2dyb3Vwcy5sZW5ndGg7IGkrKykgewogICAgICAgIHZhciBqc29uRGF0YSA9IHt9OwogICAgICAgIGpzb25EYXRhWyJ2YWx1ZSJdID0gaTsgLy92YWxfZ3JvdXBzW2ldWyJpZCJdOwogICAgICAgIGpzb25EYXRhWyJ0ZXh0Il0gPSB2YWxfZ3JvdXBzW2ldWyJuYW1lIl07CiAgICAgICAgdGhpcy5nX29wdGlvbnMucHVzaChqc29uRGF0YSk7CiAgICAgIH0KICAgICAgdGhpcy5ncm91cHMgPSB2YWxfZ3JvdXBzOwogICAgfSwKCiAgICBhc3luYyBmZXRjaEdyb3VwKCkgewogICAgICBjb25zdCB2YWxfZ3JvdXAgPSBhd2FpdCB0aGlzLmF4aW9zCiAgICAgICAgLmdldCgiL2JhY2tlbmQvZ3JvdXBzLyIgKyB0aGlzLnNlbGVjdGVkX2dyb3VwICsgIi8iKQogICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7CiAgICAgICAgfSk7CiAgICAgIHRoaXMuZ3JvdXAgPSB2YWxfZ3JvdXA7CiAgICB9LAoKICAgIGFzeW5jIGNoYW5nZU5hbWUoZ2lkLCBuYW1lKSB7CiAgICAgIGlmIChuYW1lID09PSAiIikgewogICAgICAgIGFsZXJ0KCLpmorkvI3lkI3nqLHkuI3lj6/ngrrnqbrvvIEiKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgaWYgKGNvbmZpcm0oIueiuuiqjeabtOaUuemaiuWQjT8iKSkgewogICAgICAgIGF3YWl0IHRoaXMuYXhpb3MKICAgICAgICAgIC5wYXRjaCgiL2JhY2tlbmQvZ3JvdXBzLyIgKyB0aGlzLmdyb3Vwc1tnaWRdLmlkLnRvU3RyaW5nKCkgKyAiLyIsIHsKICAgICAgICAgICAgbmFtZTogbmFtZSwKICAgICAgICAgIH0pCiAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7CiAgICAgICAgICB9KTsKICAgICAgICBhbGVydCgi5pu05ZCN5oiQ5Yqf77yBIik7CiAgICAgIH0KICAgIH0sCiAgICBhc3luYyBhZGRTY29yZShnaWQsIHNjb3JlKSB7CiAgICAgIGlmIChzY29yZSA9PT0gIiIpIHsKICAgICAgICBhbGVydCgi5YiG5pW45qyE5LiN5Y+v54K656m677yBIik7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB2YXIgbmV3c2NvcmUgPSB0aGlzLmdyb3Vwc1tnaWRdLnNjb3JlICsgcGFyc2VJbnQoc2NvcmUpOwogICAgICB2YXIgdGV4dCA9CiAgICAgICAgIumaiuS8jSIgKwogICAgICAgIGdpZCArCiAgICAgICAgIjogIiArCiAgICAgICAgdGhpcy5ncm91cHNbZ2lkXS5uYW1lICsKICAgICAgICAiXG7nm67liY3liIbmlbjvvJoiICsKICAgICAgICB0aGlzLmdyb3Vwc1tnaWRdLnNjb3JlICsKICAgICAgICAiXG7mm7TmlLnlvozliIbmlbjvvJoiICsKICAgICAgICBuZXdzY29yZTsKCiAgICAgIGlmIChjb25maXJtKHRleHQpKSB7CiAgICAgICAgdGhpcy5ncm91cHNbZ2lkXS5zY29yZSA9IG5ld3Njb3JlCiAgICAgICAgYXdhaXQgdGhpcy5heGlvcwogICAgICAgICAgLnBhdGNoKCIvYmFja2VuZC9ncm91cHMvIiArIHRoaXMuZ3JvdXBzW2dpZF0uaWQudG9TdHJpbmcoKSArICIvIiwgewogICAgICAgICAgICBzY29yZTogdGhpcy5ncm91cHNbZ2lkXS5zY29yZSwKICAgICAgICAgIH0pCiAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7CiAgICAgICAgICB9KTsKICAgICAgICBhbGVydCgi5Yqg5YiG5oiQ5Yqf77yBIik7CgogICAgICAgIGF3YWl0IHRoaXMubG9nZ2luZygKICAgICAgICAgIHRoaXMuZ3JvdXBzW2dpZF0uaWQsIAogICAgICAgICAgMjAwLCAKICAgICAgICAgIHRoaXMuZ3JvdXBzW2dpZF0uc2NvcmUsIAogICAgICAgICAgc2NvcmUsCiAgICAgICAgKTsKICAgICAgfQogICAgICB0aGlzLmZldGNoR3JvdXBzKCk7CiAgICB9LAogICAgYXN5bmMgY2hhbmdlRG9uZShoaWQpIHsKICAgICAgdmFyIGNoYW5nZSA9ICIiOwogICAgICBpZiAodGhpcy5oaW50c1toaWRdLmRvbmUgPT09ICJ5ZXMiKSBjaGFuZ2UgPSAibm8iOwogICAgICBlbHNlIGNoYW5nZSA9ICJ5ZXMiOwoKICAgICAgdmFyIHRleHQgPSAidHVybiBkb25lIGZyb20gIiArIHRoaXMuaGludHNbaGlkXS5kb25lICsgIiB0byAiICsgY2hhbmdlOwogICAgICBpZiAoY29uZmlybSh0ZXh0KSkgewogICAgICAgIHRoaXMuaGludHNbaGlkXS5kb25lID0gY2hhbmdlOwoKICAgICAgICBhd2FpdCB0aGlzLmF4aW9zCiAgICAgICAgICAucGF0Y2goIi9iYWNrZW5kL2hpbnRzLyIgKyB0aGlzLmhpbnRzW2hpZF0uaWQudG9TdHJpbmcoKSArICIvIiwgewogICAgICAgICAgICBkb25lOiB0aGlzLmhpbnRzW2hpZF0uZG9uZSwKICAgICAgICAgIH0pCiAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7CiAgICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIGFzeW5jIGNoYW5nZUF2YWlsKGhpZCkgewogICAgICB2YXIgY2hhbmdlID0gIiI7CiAgICAgIGlmICh0aGlzLmhpbnRzW2hpZF0uYXZhaWwgPT09ICJ5ZXMiKSBjaGFuZ2UgPSAibm8iOwogICAgICBlbHNlIGNoYW5nZSA9ICJ5ZXMiOwoKICAgICAgdmFyIHRleHQgPSAidHVybiBhdmFpbCBmcm9tICIgKyB0aGlzLmhpbnRzW2hpZF0uYXZhaWwgKyAiIHRvICIgKyBjaGFuZ2U7CiAgICAgIGlmIChjb25maXJtKHRleHQpKSB7CiAgICAgICAgdGhpcy5oaW50c1toaWRdLmF2YWlsID0gY2hhbmdlOwoKICAgICAgICBhd2FpdCB0aGlzLmF4aW9zCiAgICAgICAgICAucGF0Y2goIi9iYWNrZW5kL2hpbnRzLyIgKyB0aGlzLmhpbnRzW2hpZF0uaWQudG9TdHJpbmcoKSArICIvIiwgewogICAgICAgICAgICBhdmFpbDogdGhpcy5oaW50c1toaWRdLmF2YWlsLAogICAgICAgICAgfSkKICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTsKICAgICAgICAgIH0pOwogICAgICB9CiAgICB9LAoKICAgIGFzeW5jIGFkZEdyb3VwKGdlbmlkKSB7CiAgICAgIGlmIChjb25maXJtKGBBZGQgbmV3IGdyb3VwIHdpdGggaWQ6JHtnZW5pZH0/YCkpIHsKICAgICAgICBhd2FpdCB0aGlzLmF4aW9zCiAgICAgICAgICAucG9zdCgiL2JhY2tlbmQvZ3JvdXBzaW5mby8iLCB7CiAgICAgICAgICAgIGlkOiBnZW5pZCwKICAgICAgICAgICAgaGludHM6IFtdLAogICAgICAgICAgfSkKICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTsKICAgICAgICAgIH0pOwoKICAgICAgICBhd2FpdCB0aGlzLmF4aW9zCiAgICAgICAgICAucG9zdCgiL2JhY2tlbmQvZ3JvdXBzLyIsIHsKICAgICAgICAgICAgaWQ6IGdlbmlkLAogICAgICAgICAgICBzY29yZTogMCwKICAgICAgICAgICAgbmFtZTogIumaiuS8jSIrICggcGFyc2VJbnQoZ2VuaWQpICUgMTAwMCApLAogICAgICAgICAgfSkKICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTsKICAgICAgICAgIH0pOwogICAgICB9CiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["Secret.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Secret.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"backend\">\n    <b-button block v-b-toggle.a1 variant=\"info\">隊伍相關 </b-button>\n    <b-collapse id=\"a1\" visible accordion=\"my-accordion\" role=\"tabpanel\">\n      <div>\n        <a> 選擇隊伍： </a>\n        <b-form-select\n          class=\"w-50\"\n          v-model=\"selected_group\"\n          :options=\"g_options\"\n        >\n          <template #first>\n            <b-form-select-option class=\"justify-content-center\" :value=\"null\">\n              -- Select your team --\n            </b-form-select-option>\n          </template>\n        </b-form-select>\n      </div>\n\n      <b-input-group prepend=\"隊伍更改名稱\">\n        <b-form-input v-model=\"input_name\" placeholder=\"\"></b-form-input>\n        <template #append>\n          <b-button @click=\"changeName(selected_group, input_name)\"\n            >更名</b-button\n          >\n        </template>\n      </b-input-group>\n\n      <b-input-group prepend=\"隊伍增加分數\">\n        <b-form-input v-model=\"input_score\" placeholder=\"\"></b-form-input>\n        <template #append>\n          <b-button @click=\"addScore(selected_group, input_score)\"\n            >加分</b-button\n          >\n        </template>\n      </b-input-group>\n\n      <div>\n        <b-button\n          squared\n          variant=\"primary\"\n          :disabled=\"selected_group === null\"\n          @click=\"fetchHints(groups[selected_group].id)\"\n        >\n          檢視排組\n        </b-button>\n        \n        <b-form-select\n          class=\"w-50\"\n          v-model=\"selected_hints\"\n          :options=\"h_options\"\n        >\n          <template #first>\n            <b-form-select-option class=\"justify-content-center\" :value=\"null\">\n              -- Select hint --\n            </b-form-select-option>\n          </template>\n        </b-form-select>\n\n        <b-button\n          squared\n          variant=\"primary\"\n          :disabled=\"selected_group === null\"\n          @click=\"changeDone(selected_hints)\"\n        >\n          更改是否完成\n        </b-button>\n\n        <b-button\n          squared\n          variant=\"primary\"\n          :disabled=\"selected_group === null\"\n          @click=\"changeAvail(selected_hints)\"\n        >\n          更改是否開啟\n        </b-button> \n      </div>\n    </b-collapse>\n    <!-- 增加隊伍、隊伍改分數、換題目、題目解鎖、題目完成、改題目分數、bonus etc -->\n\n    <b-input-group prepend=\"增加隊伍\">\n      <b-form-input v-model=\"input_genid\" placeholder=\"group id\"></b-form-input>\n      <template #append>\n        <b-button @click=\"addGroup(input_genid)\"\n          >add group</b-button\n        >\n      </template>\n    </b-input-group>\n\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"Secret\",\n  components: {},\n  data() {\n    return {\n      hint: JSON,\n      hints: JSON,\n      group: JSON,\n      groups: [],\n      input_name: \"\",\n      input_score: \"\",\n      input_genid: \"\",\n      selected_group: 0,\n      selected_hints: 0,\n      g_options: [],\n      h_options: [],\n    };\n  },\n  mounted() {\n    this.fetchGroups()\n    //this.fetchHints(this.groups[this.selected_group].id);\n  },\n  created() {\n    //this.group_id = this.$route.query.group;\n  },\n  methods: {\n    async logging(gid, hid, curScore, addScore) {\n      var date = new Date();\n      var hhmmss =\n          date.getHours().toString().padStart(2, \"0\") + \":\" +\n          date.getMinutes().toString().padStart(2, \"0\") + \":\" +\n          date.getSeconds().toString().padStart(2, \"0\");\n\n      await this.axios\n        .post(\"/backend/logging/\", {\n          group_id: gid,\n          fin_hint_id: hid,\n          fin_time: hhmmss,\n          cur_score: curScore,\n          get_score: addScore,\n        })\n        .then(function (response) {\n          return response.data;\n        });\n    },\n\n    async fetchHints(gid) {\n      console.log(gid);\n      const val_groupinfo = await this.axios\n        .get(\"/backend/groupsinfo/\" + gid + \"/\")\n        .then(function (response) {\n          return response.data;\n        });\n      const val_hints = val_groupinfo.hints;\n      console.log(val_hints);\n\n      this.h_options = [];\n      for (var i = 0; i < val_hints.length; i++) {\n        var jsonData = {};\n        jsonData[\"value\"] = i; //val_hints[i][\"id\"];\n        jsonData[\"text\"] = \"hint id: \" + val_hints[i][\"hint_id\"];\n        this.h_options.push(jsonData);\n      }\n  \n      this.hints = val_hints;\n    },\n\n    async fetchGroups() {\n      const val_groups = await this.axios\n        .get(\"/backend/groups/\")\n        .then(function (response) {\n          return response.data;\n        });\n      //this.groups = val_groups;\n      this.g_options = [];\n      for (var i = 0; i < val_groups.length; i++) {\n        var jsonData = {};\n        jsonData[\"value\"] = i; //val_groups[i][\"id\"];\n        jsonData[\"text\"] = val_groups[i][\"name\"];\n        this.g_options.push(jsonData);\n      }\n      this.groups = val_groups;\n    },\n\n    async fetchGroup() {\n      const val_group = await this.axios\n        .get(\"/backend/groups/\" + this.selected_group + \"/\")\n        .then(function (response) {\n          return response.data;\n        });\n      this.group = val_group;\n    },\n\n    async changeName(gid, name) {\n      if (name === \"\") {\n        alert(\"隊伍名稱不可為空！\");\n        return;\n      }\n      if (confirm(\"確認更改隊名?\")) {\n        await this.axios\n          .patch(\"/backend/groups/\" + this.groups[gid].id.toString() + \"/\", {\n            name: name,\n          })\n          .then(function (response) {\n            return response.data;\n          });\n        alert(\"更名成功！\");\n      }\n    },\n    async addScore(gid, score) {\n      if (score === \"\") {\n        alert(\"分數欄不可為空！\");\n        return;\n      }\n\n      var newscore = this.groups[gid].score + parseInt(score);\n      var text =\n        \"隊伍\" +\n        gid +\n        \": \" +\n        this.groups[gid].name +\n        \"\\n目前分數：\" +\n        this.groups[gid].score +\n        \"\\n更改後分數：\" +\n        newscore;\n\n      if (confirm(text)) {\n        this.groups[gid].score = newscore\n        await this.axios\n          .patch(\"/backend/groups/\" + this.groups[gid].id.toString() + \"/\", {\n            score: this.groups[gid].score,\n          })\n          .then(function (response) {\n            return response.data;\n          });\n        alert(\"加分成功！\");\n\n        await this.logging(\n          this.groups[gid].id, \n          200, \n          this.groups[gid].score, \n          score,\n        );\n      }\n      this.fetchGroups();\n    },\n    async changeDone(hid) {\n      var change = \"\";\n      if (this.hints[hid].done === \"yes\") change = \"no\";\n      else change = \"yes\";\n\n      var text = \"turn done from \" + this.hints[hid].done + \" to \" + change;\n      if (confirm(text)) {\n        this.hints[hid].done = change;\n\n        await this.axios\n          .patch(\"/backend/hints/\" + this.hints[hid].id.toString() + \"/\", {\n            done: this.hints[hid].done,\n          })\n          .then(function (response) {\n            return response.data;\n          });\n      }\n    },\n    async changeAvail(hid) {\n      var change = \"\";\n      if (this.hints[hid].avail === \"yes\") change = \"no\";\n      else change = \"yes\";\n\n      var text = \"turn avail from \" + this.hints[hid].avail + \" to \" + change;\n      if (confirm(text)) {\n        this.hints[hid].avail = change;\n\n        await this.axios\n          .patch(\"/backend/hints/\" + this.hints[hid].id.toString() + \"/\", {\n            avail: this.hints[hid].avail,\n          })\n          .then(function (response) {\n            return response.data;\n          });\n      }\n    },\n\n    async addGroup(genid) {\n      if (confirm(`Add new group with id:${genid}?`)) {\n        await this.axios\n          .post(\"/backend/groupsinfo/\", {\n            id: genid,\n            hints: [],\n          })\n          .then(function (response) {\n            return response.data;\n          });\n\n        await this.axios\n          .post(\"/backend/groups/\", {\n            id: genid,\n            score: 0,\n            name: \"隊伍\"+ ( parseInt(genid) % 1000 ),\n          })\n          .then(function (response) {\n            return response.data;\n          });\n      }\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n// .samecol {\n//   display: flex;\n//   justify-content: space-between;\n// }\n</style>\n"]}]}