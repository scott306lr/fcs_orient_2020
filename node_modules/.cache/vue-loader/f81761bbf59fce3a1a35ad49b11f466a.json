{"remainingRequest":"/home/lr/coding/javascript/fcs_orient_2021/orient_frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/lr/coding/javascript/fcs_orient_2021/orient_frontend/src/views/Secret.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/lr/coding/javascript/fcs_orient_2021/orient_frontend/src/views/Secret.vue","mtime":1619364246971},{"path":"/home/lr/coding/javascript/fcs_orient_2021/orient_frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/lr/coding/javascript/fcs_orient_2021/orient_frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/lr/coding/javascript/fcs_orient_2021/orient_frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/lr/coding/javascript/fcs_orient_2021/orient_frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBDbG9jayBmcm9tICIuLi9jb21wb25lbnRzL0Nsb2NrLnZ1ZSI7CmltcG9ydCBHcm91cExvZyBmcm9tICIuLi9jb21wb25lbnRzL0dyb3VwTG9nLnZ1ZSI7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIlNlY3JldCIsCiAgY29tcG9uZW50czogewogICAgQ2xvY2ssCiAgICBHcm91cExvZywKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBmcmVlemU6IFN0cmluZywKICAgICAgaGludDogSlNPTiwKICAgICAgaGludHM6IEpTT04sCiAgICAgIGdyb3VwOiBKU09OLAogICAgICBncm91cHM6IFtdLAogICAgICBpbnB1dF9jZHRleHQ6ICIiLAogICAgICBpbnB1dF9uYW1lOiAiIiwKICAgICAgaW5wdXRfc2NvcmU6ICIiLAogICAgICBpbnB1dF9oaWQ6ICIiLAogICAgICBpbnB1dF9nZW5pZDogIiIsCiAgICAgIGlucHV0X25taWQ6ICIiLAogICAgICBpbnB1dF9zcGlkOiAiIiwKICAgICAgc2VsZWN0ZWRfZ3JvdXA6IDAsCiAgICAgIHNlbGVjdGVkX2hpbnRzOiAwLAogICAgICBzZWxlY3RlZF90eXBlOiAwLAogICAgICBnX29wdGlvbnM6IFtdLAogICAgICBoX29wdGlvbnM6IFtdLAogICAgICB0eXBlX29wdGlvbnM6IFsKICAgICAgICB7CiAgICAgICAgICB0ZXh0OiAi5Zue562U5bel5Lq66KyO6aGMIiwKICAgICAgICAgIHZhbHVlOiAwLAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgdGV4dDogIuWujOaIkOS4iuWCs+eFp+eJhyIsCiAgICAgICAgICB2YWx1ZTogMSwKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIHRleHQ6ICLliIbmlbjpjK/oqqTkv67mraMiLAogICAgICAgICAgdmFsdWU6IDIsCiAgICAgICAgfSwKICAgICAgXSwKICAgIH07CiAgfSwKICBtb3VudGVkKCkgewogICAgdGhpcy5mZXRjaEdyb3VwcygpOwogICAgdGhpcy5mZXRjaE90aGVycygpOwogICAgLy90aGlzLmZldGNoSGludHModGhpcy5ncm91cHNbdGhpcy5zZWxlY3RlZF9ncm91cF0uaWQpOwogIH0sCiAgY3JlYXRlZCgpIHsKICAgIC8vdGhpcy5ncm91cF9pZCA9IHRoaXMuJHJvdXRlLnF1ZXJ5Lmdyb3VwOwogIH0sCiAgbWV0aG9kczogewogICAgYXN5bmMgbG9nZ2luZyhnaWQsIHJlYXNvbiwgY3VyU2NvcmUsIGFkZFNjb3JlKSB7CiAgICAgIHZhciBkYXRlID0gbmV3IERhdGUoKTsKICAgICAgdmFyIGhobW1zcyA9CiAgICAgICAgZGF0ZS5nZXRIb3VycygpLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgIjAiKSArCiAgICAgICAgIjoiICsKICAgICAgICBkYXRlLmdldE1pbnV0ZXMoKS50b1N0cmluZygpLnBhZFN0YXJ0KDIsICIwIikgKwogICAgICAgICI6IiArCiAgICAgICAgZGF0ZS5nZXRTZWNvbmRzKCkudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAiMCIpOwoKICAgICAgYXdhaXQgdGhpcy5heGlvcwogICAgICAgIC5wb3N0KCIvYmFja2VuZC9sb2dnaW5nLyIsIHsKICAgICAgICAgIGdyb3VwX2lkOiBnaWQsCiAgICAgICAgICByZWFzb246IHJlYXNvbiwKICAgICAgICAgIGZpbl90aW1lOiBoaG1tc3MsCiAgICAgICAgICBjdXJfc2NvcmU6IGN1clNjb3JlLAogICAgICAgICAgZ2V0X3Njb3JlOiBhZGRTY29yZSwKICAgICAgICB9KQogICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7CiAgICAgICAgfSk7CiAgICB9LAogICAgYXN5bmMgZmV0Y2hPdGhlcnMoKSB7CiAgICAgIGNvbnN0IHZhbF9zID0gYXdhaXQgdGhpcy5heGlvcwogICAgICAgIC5nZXQoIi9iYWNrZW5kL290aGVycy8xLyIpCiAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTsKICAgICAgICB9KTsKICAgICAgLy90aGlzLmlucHV0X2NkdGV4dCA9IHZhbF9zLmNkX3RleHQ7CiAgICAgIHRoaXMuZnJlZXplID0gdmFsX3MuZnJlZXplOwogICAgfSwKICAgIGFzeW5jIGZldGNoSGludHMoZ2lkKSB7CiAgICAgIGNvbnN0IHZhbF9ncm91cGluZm8gPSBhd2FpdCB0aGlzLmF4aW9zCiAgICAgICAgLmdldCgiL2JhY2tlbmQvZ3JvdXBzaW5mby8iICsgdGhpcy5ncm91cHNbZ2lkXS5pZCArICIvIikKICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhOwogICAgICAgIH0pOwogICAgICBjb25zdCB2YWxfaGludHMgPSB2YWxfZ3JvdXBpbmZvLmhpbnRzOwoKICAgICAgdGhpcy5oX29wdGlvbnMgPSBbXTsKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2YWxfaGludHMubGVuZ3RoOyBpKyspIHsKICAgICAgICB2YXIganNvbkRhdGEgPSB7fTsKICAgICAgICBqc29uRGF0YVsidmFsdWUiXSA9IGk7IC8vdmFsX2hpbnRzW2ldWyJpZCJdOwogICAgICAgIGpzb25EYXRhWyJ0ZXh0Il0gPSAiaGludCBpZDogIiArIHZhbF9oaW50c1tpXVsiaGludF9pZCJdOwogICAgICAgIHRoaXMuaF9vcHRpb25zLnB1c2goanNvbkRhdGEpOwogICAgICB9CgogICAgICB0aGlzLmhpbnRzID0gdmFsX2hpbnRzOwogICAgfSwKCiAgICBhc3luYyBmZXRjaEdyb3VwcygpIHsKICAgICAgY29uc3QgdmFsX2dyb3VwcyA9IGF3YWl0IHRoaXMuYXhpb3MKICAgICAgICAuZ2V0KCIvYmFja2VuZC9ncm91cHMvIikKICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhOwogICAgICAgIH0pOwogICAgICAvL3RoaXMuZ3JvdXBzID0gdmFsX2dyb3VwczsKICAgICAgdGhpcy5nX29wdGlvbnMgPSBbXTsKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2YWxfZ3JvdXBzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgdmFyIGpzb25EYXRhID0ge307CiAgICAgICAganNvbkRhdGFbInZhbHVlIl0gPSBpOyAvL3ZhbF9ncm91cHNbaV1bImlkIl07CiAgICAgICAganNvbkRhdGFbInRleHQiXSA9IHZhbF9ncm91cHNbaV1bIm5hbWUiXTsKICAgICAgICB0aGlzLmdfb3B0aW9ucy5wdXNoKGpzb25EYXRhKTsKICAgICAgfQogICAgICB0aGlzLmdyb3VwcyA9IHZhbF9ncm91cHM7CiAgICB9LAoKICAgIGFzeW5jIGZldGNoR3JvdXAoKSB7CiAgICAgIGNvbnN0IHZhbF9ncm91cCA9IGF3YWl0IHRoaXMuYXhpb3MKICAgICAgICAuZ2V0KCIvYmFja2VuZC9ncm91cHMvIiArIHRoaXMuc2VsZWN0ZWRfZ3JvdXAgKyAiLyIpCiAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTsKICAgICAgICB9KTsKICAgICAgdGhpcy5ncm91cCA9IHZhbF9ncm91cDsKICAgIH0sCgogICAgYXN5bmMgY2hhbmdlTmFtZShnaWQsIG5hbWUpIHsKICAgICAgaWYgKG5hbWUgPT09ICIiKSB7CiAgICAgICAgYWxlcnQoIumaiuS8jeWQjeeoseS4jeWPr+eCuuepuu+8gSIpOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgaWYgKG5hbWUubGVuZ3RoID4gMjUpIHsKICAgICAgICBhbGVydCgi5ZCM5a245L2g6ZqK5LyN5ZCN56ix5Lmf6Kit5aSq6ZW35LqG5ZCnIik7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBjb25zdCB2YWxfZ3JvdXBzID0gYXdhaXQgdGhpcy5heGlvcwogICAgICAgIC5nZXQoIi9iYWNrZW5kL2dyb3Vwcy8iKQogICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7CiAgICAgICAgfSk7CiAgICAgIHRoaXMuZ3JvdXBzID0gdmFsX2dyb3VwczsKCiAgICAgIGlmIChjb25maXJtKCLnorroqo3mm7TmlLnpmorlkI0/IikpIHsKICAgICAgICBhd2FpdCB0aGlzLmF4aW9zCiAgICAgICAgICAucGF0Y2goIi9iYWNrZW5kL2dyb3Vwcy8iICsgdGhpcy5ncm91cHNbZ2lkXS5pZCArICIvIiwgewogICAgICAgICAgICBuYW1lOiBuYW1lLAogICAgICAgICAgfSkKICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTsKICAgICAgICAgIH0pOwogICAgICAgIGFsZXJ0KCLmm7TlkI3miJDlip/vvIEiKTsKICAgICAgfQogICAgfSwKICAgIGFzeW5jIGNkdGV4dFVwZGF0ZSh0ZXh0KSB7CiAgICAgIGlmIChjb25maXJtKCJuZXcgY2R0ZXh0OiAiICsgdGV4dCkpIHsKICAgICAgICBhd2FpdCB0aGlzLmF4aW9zLnBhdGNoKCIvYmFja2VuZC9vdGhlcnMvMS8iLCB7CiAgICAgICAgICBjZF90ZXh0OiB0ZXh0LAogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgYXN5bmMgYWRkU2NvcmUoZ2lkLCBoaWQsIHNlbGVjdGVkLCBzY29yZSkgewogICAgICBpZiAoc2NvcmUgPT09ICIiKSB7CiAgICAgICAgYWxlcnQoIuWIhuaVuOashOS4jeWPr+eCuuepuu+8gSIpOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgY29uc3QgdmFsX2dyb3VwcyA9IGF3YWl0IHRoaXMuYXhpb3MKICAgICAgICAuZ2V0KCIvYmFja2VuZC9ncm91cHMvIikKICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhOwogICAgICAgIH0pOwogICAgICB0aGlzLmdyb3VwcyA9IHZhbF9ncm91cHM7CgogICAgICB2YXIgbmV3c2NvcmUgPSB0aGlzLmdyb3Vwc1tnaWRdLnNjb3JlICsgcGFyc2VJbnQoc2NvcmUpOwogICAgICB2YXIgdGV4dCA9CiAgICAgICAgIumaiuS8jSIgKwogICAgICAgIGdpZCArCiAgICAgICAgIjogIiArCiAgICAgICAgdGhpcy5ncm91cHNbZ2lkXS5uYW1lICsKICAgICAgICAiXG7nm67liY3liIbmlbjvvJoiICsKICAgICAgICB0aGlzLmdyb3Vwc1tnaWRdLnNjb3JlICsKICAgICAgICAiXG7mm7TmlLnlvozliIbmlbjvvJoiICsKICAgICAgICBuZXdzY29yZTsKCiAgICAgIGlmIChjb25maXJtKHRleHQpKSB7CiAgICAgICAgdGhpcy5ncm91cHNbZ2lkXS5zY29yZSA9IG5ld3Njb3JlOwogICAgICAgIGF3YWl0IHRoaXMuYXhpb3MKICAgICAgICAgIC5wYXRjaCgiL2JhY2tlbmQvZ3JvdXBzLyIgKyB0aGlzLmdyb3Vwc1tnaWRdLmlkICsgIi8iLCB7CiAgICAgICAgICAgIHNjb3JlOiB0aGlzLmdyb3Vwc1tnaWRdLnNjb3JlLAogICAgICAgICAgfSkKICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTsKICAgICAgICAgIH0pOwoKICAgICAgICBzd2l0Y2ggKHNlbGVjdGVkKSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIGF3YWl0IHRoaXMubG9nZ2luZygKICAgICAgICAgICAgICB0aGlzLmdyb3Vwc1tnaWRdLmlkLAogICAgICAgICAgICAgICLlm57nrZTorI7poYwiLAogICAgICAgICAgICAgIHRoaXMuZ3JvdXBzW2dpZF0uc2NvcmUsCiAgICAgICAgICAgICAgc2NvcmUKICAgICAgICAgICAgKTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgIGF3YWl0IHRoaXMubG9nZ2luZygKICAgICAgICAgICAgICB0aGlzLmdyb3Vwc1tnaWRdLmlkLAogICAgICAgICAgICAgICJpZDoiICsgaGlkICsgIiDlr6nmn6XlrozmiJAiLAogICAgICAgICAgICAgIHRoaXMuZ3JvdXBzW2dpZF0uc2NvcmUsCiAgICAgICAgICAgICAgc2NvcmUKICAgICAgICAgICAgKTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICBhd2FpdCB0aGlzLmxvZ2dpbmcoCiAgICAgICAgICAgICAgdGhpcy5ncm91cHNbZ2lkXS5pZCwKICAgICAgICAgICAgICAi5L+u5q2j5YiG5pW46Yyv6KqkIiwKICAgICAgICAgICAgICB0aGlzLmdyb3Vwc1tnaWRdLnNjb3JlLAogICAgICAgICAgICAgIHNjb3JlCiAgICAgICAgICAgICk7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KCiAgICAgICAgYWxlcnQoIuWKoOWIhuaIkOWKn++8gSIpOwogICAgICB9CiAgICAgIHRoaXMuZmV0Y2hHcm91cHMoKTsKICAgIH0sCiAgICBhc3luYyBjaGFuZ2VEb25lKGdpZCwgaGlkKSB7CiAgICAgIGNvbnN0IHZhbF9ncm91cGluZm8gPSBhd2FpdCB0aGlzLmF4aW9zCiAgICAgICAgLmdldCgiL2JhY2tlbmQvZ3JvdXBzaW5mby8iICsgdGhpcy5ncm91cHNbZ2lkXS5pZC50b1N0cmluZygpICsgIi8iKQogICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7CiAgICAgICAgfSk7CiAgICAgIHRoaXMuaGludHMgPSB2YWxfZ3JvdXBpbmZvLmhpbnRzOwoKICAgICAgdmFyIGNoYW5nZSA9ICIiOwogICAgICBpZiAodGhpcy5oaW50c1toaWRdLmRvbmUgPT09ICJ5ZXMiKSBjaGFuZ2UgPSAibm8iOwogICAgICBlbHNlIGNoYW5nZSA9ICJ5ZXMiOwoKICAgICAgdmFyIHRleHQgPSAiZG9uZSAgIiArIHRoaXMuaGludHNbaGlkXS5kb25lICsgIiAtPiAiICsgY2hhbmdlOwogICAgICBpZiAoY29uZmlybSh0ZXh0KSkgewogICAgICAgIHRoaXMuaGludHNbaGlkXS5kb25lID0gY2hhbmdlOwoKICAgICAgICBhd2FpdCB0aGlzLmF4aW9zCiAgICAgICAgICAucGF0Y2goIi9iYWNrZW5kL2hpbnRzLyIgKyB0aGlzLmhpbnRzW2hpZF0uaWQudG9TdHJpbmcoKSArICIvIiwgewogICAgICAgICAgICBkb25lOiB0aGlzLmhpbnRzW2hpZF0uZG9uZSwKICAgICAgICAgIH0pCiAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7CiAgICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIGFzeW5jIGNoYW5nZUF2YWlsKGdpZCwgaGlkKSB7CiAgICAgIGNvbnN0IHZhbF9ncm91cGluZm8gPSBhd2FpdCB0aGlzLmF4aW9zCiAgICAgICAgLmdldCgiL2JhY2tlbmQvZ3JvdXBzaW5mby8iICsgdGhpcy5ncm91cHNbZ2lkXS5pZC50b1N0cmluZygpICsgIi8iKQogICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7CiAgICAgICAgfSk7CiAgICAgIHRoaXMuaGludHMgPSB2YWxfZ3JvdXBpbmZvLmhpbnRzOwoKICAgICAgdmFyIGNoYW5nZSA9ICIiOwogICAgICBpZiAodGhpcy5oaW50c1toaWRdLmF2YWlsID09PSAieWVzIikgY2hhbmdlID0gIm5vIjsKICAgICAgZWxzZSBjaGFuZ2UgPSAieWVzIjsKCiAgICAgIHZhciB0ZXh0ID0gImF2YWlsICAiICsgdGhpcy5oaW50c1toaWRdLmF2YWlsICsgIiAtPiAiICsgY2hhbmdlOwogICAgICBpZiAoY29uZmlybSh0ZXh0KSkgewogICAgICAgIHRoaXMuaGludHNbaGlkXS5hdmFpbCA9IGNoYW5nZTsKCiAgICAgICAgYXdhaXQgdGhpcy5heGlvcwogICAgICAgICAgLnBhdGNoKCIvYmFja2VuZC9oaW50cy8iICsgdGhpcy5oaW50c1toaWRdLmlkLnRvU3RyaW5nKCkgKyAiLyIsIHsKICAgICAgICAgICAgYXZhaWw6IHRoaXMuaGludHNbaGlkXS5hdmFpbCwKICAgICAgICAgIH0pCiAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7CiAgICAgICAgICB9KTsKICAgICAgfQogICAgfSwKCiAgICBhc3luYyBjaGFuZ2VGcmVlemUoKSB7CiAgICAgIGNvbnN0IHZhbF9zID0gYXdhaXQgdGhpcy5heGlvcwogICAgICAgIC5nZXQoIi9iYWNrZW5kL290aGVycy8xLyIpCiAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTsKICAgICAgICB9KTsKICAgICAgdGhpcy5pbnB1dF9jZHRleHQgPSB2YWxfcy5jZF90ZXh0OwogICAgICB0aGlzLmZyZWV6ZSA9IHZhbF9zLmZyZWV6ZTsKCiAgICAgIHZhciBjaGFuZ2UgPSAiIjsKICAgICAgaWYgKHRoaXMuZnJlZXplID09PSAieWVzIikgY2hhbmdlID0gIm5vIjsKICAgICAgZWxzZSBjaGFuZ2UgPSAieWVzIjsKCiAgICAgIHZhciB0ZXh0ID0gImZyZWV6ZSAgIiArIHRoaXMuZnJlZXplICsgIiAtPiAiICsgY2hhbmdlOwogICAgICBpZiAoY29uZmlybSh0ZXh0KSkgewogICAgICAgIHRoaXMuZnJlZXplID0gY2hhbmdlOwoKICAgICAgICBhd2FpdCB0aGlzLmF4aW9zCiAgICAgICAgICAucGF0Y2goIi9iYWNrZW5kL290aGVycy8xLyIsIHsKICAgICAgICAgICAgZnJlZXplOiB0aGlzLmZyZWV6ZSwKICAgICAgICAgIH0pCiAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7CiAgICAgICAgICB9KTsKICAgICAgfQogICAgfSwKCiAgICBhc3luYyBhZGRHcm91cChnZW5pZCkgewogICAgICBpZiAoY29uZmlybShgQWRkIG5ldyBncm91cCB3aXRoIGlkOiR7Z2VuaWR9P2ApKSB7CiAgICAgICAgY29uc3QgdmFsX2dyb3VwcyA9IGF3YWl0IHRoaXMuYXhpb3MKICAgICAgICAgIC5nZXQoIi9iYWNrZW5kL2dyb3Vwcy8iKQogICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhOwogICAgICAgICAgfSk7CiAgICAgICAgdGhpcy5ncm91cHMgPSB2YWxfZ3JvdXBzOwoKICAgICAgICBhd2FpdCB0aGlzLmF4aW9zCiAgICAgICAgICAucG9zdCgiL2JhY2tlbmQvZ3JvdXBzaW5mby8iLCB7CiAgICAgICAgICAgIGlkOiBnZW5pZCwKICAgICAgICAgICAgaGludHM6IFtdLAogICAgICAgICAgfSkKICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTsKICAgICAgICAgIH0pOwoKICAgICAgICBhd2FpdCB0aGlzLmF4aW9zCiAgICAgICAgICAucG9zdCgiL2JhY2tlbmQvZ3JvdXBzLyIsIHsKICAgICAgICAgICAgaWQ6IGdlbmlkLAogICAgICAgICAgICBzY29yZTogMCwKICAgICAgICAgICAgbmFtZTogIumaiuS8jSIgKyAocGFyc2VJbnQoZ2VuaWQpICUgMTAwMCksCiAgICAgICAgICB9KQogICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhOwogICAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCgogICAgYXN5bmMgZGVsZXRlR3JvdXAoZ2lkKSB7CiAgICAgIGlmIChjb25maXJtKGBEZWxldGUgZ3JvdXAgaWQ6JHt0aGlzLmdyb3Vwc1tnaWRdLmlkfT9gKSkgewogICAgICAgIGNvbnN0IHZhbF9ncm91cHMgPSBhd2FpdCB0aGlzLmF4aW9zCiAgICAgICAgICAuZ2V0KCIvYmFja2VuZC9ncm91cHMvIikKICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTsKICAgICAgICAgIH0pOwogICAgICAgIHRoaXMuZ3JvdXBzID0gdmFsX2dyb3VwczsKCiAgICAgICAgYXdhaXQgdGhpcy5heGlvcwogICAgICAgICAgLmRlbGV0ZSgiL2JhY2tlbmQvZ3JvdXBzaW5mby8iICsgdGhpcy5ncm91cHNbZ2lkXS5pZCArICIvIikKICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTsKICAgICAgICAgIH0pOwoKICAgICAgICBhd2FpdCB0aGlzLmF4aW9zCiAgICAgICAgICAuZGVsZXRlKCIvYmFja2VuZC9ncm91cHMvIiArIHRoaXMuZ3JvdXBzW2dpZF0uaWQgKyAiLyIpCiAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7CiAgICAgICAgICB9KTsKICAgICAgfQogICAgfSwKCiAgICBhc3luYyBkZWxldGVIaW50c0xvZygpIHsKICAgICAgY29uc3QgdmFsX2xvZ2dpbmcgPSBhd2FpdCB0aGlzLmF4aW9zCiAgICAgICAgLmdldCgiL2JhY2tlbmQvbG9nZ2luZy8iKQogICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7CiAgICAgICAgfSk7CgogICAgICBmb3IgKHZhciBpID0gdmFsX2xvZ2dpbmcubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHsKICAgICAgICBhd2FpdCB0aGlzLmF4aW9zCiAgICAgICAgICAuZGVsZXRlKCIvYmFja2VuZC9sb2dnaW5nLyIgKyB2YWxfbG9nZ2luZ1tpXS5pZCArICIvIikKICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTsKICAgICAgICAgIH0pOwogICAgICB9CgogICAgICBjb25zdCB2YWxfaGludHMgPSBhd2FpdCB0aGlzLmF4aW9zCiAgICAgICAgLmdldCgiL2JhY2tlbmQvaGludHMvIikKICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhOwogICAgICAgIH0pOwoKICAgICAgZm9yIChpID0gdmFsX2hpbnRzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7CiAgICAgICAgYXdhaXQgdGhpcy5heGlvcwogICAgICAgICAgLmRlbGV0ZSgiL2JhY2tlbmQvaGludHMvIiArIHZhbF9oaW50c1tpXS5pZCArICIvIikKICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTsKICAgICAgICAgIH0pOwogICAgICB9CgogICAgICBjb25zb2xlLmxvZygiZGVsZXRlZCBhbGwuIik7CiAgICB9LAoKICAgIGFzeW5jIG9wZW5faGludHMoZ2lkLCBvcGVuX2NudCkgewogICAgICBjb25zdCB2YWxfZ3JvdXBpbmZvID0gYXdhaXQgdGhpcy5heGlvcwogICAgICAgIC5nZXQoIi9iYWNrZW5kL2dyb3Vwc2luZm8vIiArIGdpZCArICIvIikKICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhOwogICAgICAgIH0pOwogICAgICB0aGlzLmhpbnRzID0gdmFsX2dyb3VwaW5mby5oaW50czsKCiAgICAgIHZhciBsb2NrZWQgPSBbXTsKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmhpbnRzLmxlbmd0aDsgKytpKSB7CiAgICAgICAgaWYgKHRoaXMuaGludHNbaV0uYXZhaWwgPT09ICJubyIpIHsKICAgICAgICAgIGxvY2tlZC5wdXNoKGkpOwogICAgICAgIH0KICAgICAgfQoKICAgICAgdmFyIGNudCA9IE1hdGgubWluKG9wZW5fY250LCBsb2NrZWQubGVuZ3RoKTsKICAgICAgd2hpbGUgKGNudCA+IDApIHsKICAgICAgICB2YXIgaiA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGxvY2tlZC5sZW5ndGgpOwogICAgICAgIHZhciBkaWQgPSBsb2NrZWRbal07CiAgICAgICAgY29uc29sZS5sb2coZGlkKTsKICAgICAgICB0aGlzLmhpbnRzW2RpZF0uYXZhaWwgPSAieWVzIjsKICAgICAgICBsb2NrZWQuc3BsaWNlKGosIDEpOwoKICAgICAgICBhd2FpdCB0aGlzLmF4aW9zCiAgICAgICAgICAucGF0Y2goIi9iYWNrZW5kL2hpbnRzLyIgKyB0aGlzLmhpbnRzW2RpZF0uaWQgKyAiLyIsIHsKICAgICAgICAgICAgYXZhaWw6IHRoaXMuaGludHNbZGlkXS5hdmFpbCwKICAgICAgICAgIH0pCiAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7CiAgICAgICAgICB9KTsKICAgICAgICBjbnQgLT0gMTsKICAgICAgICBjb25zb2xlLmxvZygidW5sb2NrZWQgaGludCAiICsgdGhpcy5oaW50c1tkaWRdLmhpbnRfaWQpOwogICAgICB9CiAgICAgIGNvbnNvbGUubG9nKGdpZCArICIgb3BlbmVkICIgKyBvcGVuX2NudCArICIgaGludHMuIik7CiAgICB9LAogICAgYXN5bmMgYWRkU3BlY2lhbChoaWQpIHsKICAgICAgaWYgKGhpZCA8PSAxMDApIHsKICAgICAgICBhbGVydCgiaGlkIOWwj+aWvCAxMDDvvIEiKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgaWYgKGNvbmZpcm0oIuWinuWKoOeJueauiumhjOebriBoaW50X2lkOiIgKyBoaWQpKSB7CiAgICAgICAgY29uc3QgdmFsX2dyb3VwcyA9IGF3YWl0IHRoaXMuYXhpb3MKICAgICAgICAgIC5nZXQoIi9iYWNrZW5kL2dyb3Vwcy8iKQogICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhOwogICAgICAgICAgfSk7CiAgICAgICAgdGhpcy5ncm91cHMgPSB2YWxfZ3JvdXBzOwoKICAgICAgICBjb25zdCB2YWxfaGludCA9IGF3YWl0IHRoaXMuYXhpb3MKICAgICAgICAgIC5nZXQoIi9iYWNrZW5kL2hpbnQvIiArIGhpZCArICIvIikKICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTsKICAgICAgICAgIH0pOwoKICAgICAgICB2YXIgYWxsZ3JvdXBzID0gW107CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmdyb3Vwcy5sZW5ndGg7ICsraSkgewogICAgICAgICAgYWxsZ3JvdXBzLnB1c2godGhpcy5ncm91cHNbaV0uaWQpOwogICAgICAgIH0KCiAgICAgICAgYXdhaXQgdGhpcy5heGlvcwogICAgICAgICAgLnBvc3QoIi9iYWNrZW5kL2hpbnRzLyIsIHsKICAgICAgICAgICAgaGludF9pZDogaGlkLAogICAgICAgICAgICBkb25lX2J5OiAwLAogICAgICAgICAgICBhdmFpbDogInllcyIsCiAgICAgICAgICAgIGRvbmU6ICJubyIsCiAgICAgICAgICAgIHdoZXJlOiB2YWxfaGludC53aGVyZSwKICAgICAgICAgICAgd2hpY2hncm91cDogYWxsZ3JvdXBzLAogICAgICAgICAgfSkKICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTsKICAgICAgICAgIH0pOwogICAgICAgIGNvbnNvbGUubG9nKCJhZGRlZCBpZDoiICsgaGlkKTsKICAgICAgfQogICAgfSwKCiAgICBhc3luYyBkZWxldGVTcGVjaWFsKGhpZCkgewogICAgICBpZiAoY29uZmlybSgi5Yiq6Zmk54m55q6K6aGM55uuIGhpbnRfaWQ6IiArIGhpZCkpIHsKICAgICAgICBjb25zdCB2YWxfaGludHMgPSBhd2FpdCB0aGlzLmF4aW9zCiAgICAgICAgICAuZ2V0KCIvYmFja2VuZC9oaW50cy8iKQogICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhOwogICAgICAgICAgfSk7CgogICAgICAgIHZhciB0b2RlbGV0ZTsKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZhbF9oaW50cy5sZW5ndGg7ICsraSkgewogICAgICAgICAgaWYgKHZhbF9oaW50c1tpXS5oaW50X2lkID09PSBoaWQpIHsKICAgICAgICAgICAgdG9kZWxldGUgPSB2YWxfaGludHNbaV0uaWQ7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgYXdhaXQgdGhpcy5heGlvcwogICAgICAgICAgLmRlbGV0ZSgiL2JhY2tlbmQvaGludHMvIiArIHRvZGVsZXRlICsgIi8iKQogICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhOwogICAgICAgICAgfSk7CiAgICAgICAgY29uc29sZS5sb2coImRlbGV0ZSBpZDoiICsgdG9kZWxldGUpOwogICAgICB9CiAgICB9LAoKICAgIGFzeW5jIGFkZE5vcm1hbChoaWQpIHsKICAgICAgaWYgKGNvbmZpcm0oIuWinuWKoOS4gOiIrOmhjOebriBoaW50X2lkOiIgKyBoaWQpKSB7CiAgICAgICAgY29uc3QgdmFsX2dyb3VwcyA9IGF3YWl0IHRoaXMuYXhpb3MKICAgICAgICAgIC5nZXQoIi9iYWNrZW5kL2dyb3Vwcy8iKQogICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhOwogICAgICAgICAgfSk7CiAgICAgICAgdGhpcy5ncm91cHMgPSB2YWxfZ3JvdXBzOwoKICAgICAgICBjb25zdCB2YWxfaGludCA9IGF3YWl0IHRoaXMuYXhpb3MKICAgICAgICAgIC5nZXQoIi9iYWNrZW5kL2hpbnQvIiArIGhpZCArICIvIikKICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTsKICAgICAgICAgIH0pOwoKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuZ3JvdXBzLmxlbmd0aDsgKytpKSB7CiAgICAgICAgICBhd2FpdCB0aGlzLmF4aW9zCiAgICAgICAgICAgIC5wb3N0KCIvYmFja2VuZC9oaW50cy8iLCB7CiAgICAgICAgICAgICAgaGludF9pZDogaGlkLAogICAgICAgICAgICAgIGRvbmVfYnk6IDAsCiAgICAgICAgICAgICAgYXZhaWw6ICJ5ZXMiLAogICAgICAgICAgICAgIGRvbmU6ICJubyIsCiAgICAgICAgICAgICAgd2hlcmU6IHZhbF9oaW50LndoZXJlLAogICAgICAgICAgICAgIHdoaWNoZ3JvdXA6IFt0aGlzLmdyb3Vwc1tpXS5pZF0sCiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhOwogICAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIGNvbnNvbGUubG9nKCJhZGRlZCBpZDoiICsgaGlkKTsKICAgICAgfQogICAgfSwKCiAgICBhc3luYyBkZWxldGVOb3JtYWwoaGlkKSB7CiAgICAgIGlmIChjb25maXJtKCLliKrpmaTkuIDoiKzpoYznm64gaGludF9pZDoiICsgaGlkKSkgewogICAgICAgIGNvbnN0IHZhbF9oaW50cyA9IGF3YWl0IHRoaXMuYXhpb3MKICAgICAgICAgIC5nZXQoIi9iYWNrZW5kL2hpbnRzLyIpCiAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7CiAgICAgICAgICB9KTsKCiAgICAgICAgdmFyIHRvZGVsZXRlOwogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmFsX2hpbnRzLmxlbmd0aDsgKytpKSB7CiAgICAgICAgICBpZiAodmFsX2hpbnRzW2ldLmhpbnRfaWQgPT09IGhpZCkgewogICAgICAgICAgICBhd2FpdCB0aGlzLmF4aW9zCiAgICAgICAgICAgICAgLmRlbGV0ZSgiL2JhY2tlbmQvaGludHMvIiArIHZhbF9oaW50c1tpXS5pZCArICIvIikKICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhOwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgY29uc29sZS5sb2coImRlbGV0ZSBpZDoiICsgdG9kZWxldGUpOwogICAgICB9CiAgICB9LAoKICAgIGFzeW5jIGNyZWF0ZSgpIHsKICAgICAgY29uc3QgdmFsX2dyb3VwcyA9IGF3YWl0IHRoaXMuYXhpb3MKICAgICAgICAuZ2V0KCIvYmFja2VuZC9ncm91cHMvIikKICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhOwogICAgICAgIH0pOwogICAgICB0aGlzLmdyb3VwcyA9IHZhbF9ncm91cHM7CgogICAgICBjb25zdCB2YWxfaGludCA9IGF3YWl0IHRoaXMuYXhpb3MKICAgICAgICAuZ2V0KCIvYmFja2VuZC9oaW50LyIpCiAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTsKICAgICAgICB9KTsKCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmFsX2hpbnQubGVuZ3RoOyArK2kpIHsKICAgICAgICBpZiAodmFsX2hpbnRbaV0uaWQgPiAxMDApIGNvbnRpbnVlOwogICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgdGhpcy5ncm91cHMubGVuZ3RoOyArK2opIHsKICAgICAgICAgIGF3YWl0IHRoaXMuYXhpb3MKICAgICAgICAgICAgLnBvc3QoIi9iYWNrZW5kL2hpbnRzLyIsIHsKICAgICAgICAgICAgICBoaW50X2lkOiB2YWxfaGludFtpXS5pZCwKICAgICAgICAgICAgICBkb25lX2J5OiAwLAogICAgICAgICAgICAgIGF2YWlsOiAibm8iLAogICAgICAgICAgICAgIGRvbmU6ICJubyIsCiAgICAgICAgICAgICAgd2hlcmU6IHZhbF9oaW50W2ldLndoZXJlLAogICAgICAgICAgICAgIHdoaWNoZ3JvdXA6IFt0aGlzLmdyb3Vwc1tqXS5pZF0sCiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhOwogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGZvciAoaSA9IDA7IGkgPCB0aGlzLmdyb3Vwcy5sZW5ndGg7ICsraSkgewogICAgICAgIGF3YWl0IHRoaXMuYXhpb3MKICAgICAgICAgIC5wYXRjaCgiL2JhY2tlbmQvZ3JvdXBzLyIgKyB0aGlzLmdyb3Vwc1tpXS5pZCArICIvIiwgewogICAgICAgICAgICBzY29yZTogMCwKICAgICAgICAgIH0pCiAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7CiAgICAgICAgICB9KTsKICAgICAgfQogICAgICBjb25zb2xlLmxvZygic2NvcmUgYWxsIHNldCB0byAwIik7CgogICAgICBjb25zb2xlLmxvZygiY3JlYXRlIGZpbmlzaGVkLiIpOwogICAgfSwKCiAgICBhc3luYyBJbml0aWFsaXplKCkgewogICAgICBpZiAoY29uZmlybSgiSW5pdGlhbGl6ZT8iKSkgewogICAgICAgIGF3YWl0IHRoaXMuZGVsZXRlSGludHNMb2coKTsKICAgICAgICBhd2FpdCB0aGlzLmNyZWF0ZSgpOwogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5ncm91cHMubGVuZ3RoOyArK2kpIHsKICAgICAgICAgIGF3YWl0IHRoaXMub3Blbl9oaW50cyh0aGlzLmdyb3Vwc1tpXS5pZCwgNSk7CiAgICAgICAgfQogICAgICAgIGNvbnNvbGUubG9nKCJJbml0aWFsaXplIGNvbXBsZXRlLiIpOwogICAgICB9CiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["Secret.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqNA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Secret.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"backend\">\n    <Clock />\n    <b-input-group prepend=\"更改公告文字\">\n      <b-form-input v-model=\"input_cdtext\" placeholder=\"\"></b-form-input>\n      <template #append>\n        <b-button @click=\"cdtextUpdate(input_cdtext)\">更新公告</b-button>\n        <b-button variant=\"primary\" @click=\"changeFreeze()\">\n          凍結記分板\n        </b-button>\n      </template>\n    </b-input-group>\n\n    <br />\n\n    <div>\n      <a> 選擇隊伍： </a>\n      <b-form-select class=\"w-50\" v-model=\"selected_group\" :options=\"g_options\">\n        <template #first>\n          <b-form-select-option\n            class=\"justify-content-center\"\n            :value=\"null\"\n            disabled\n          >\n            -- Select team --\n          </b-form-select-option>\n        </template>\n      </b-form-select>\n    </div>\n\n    <div>\n      <a> 加分原因： </a>\n      <b-form-select\n        class=\"w-50\"\n        v-model=\"selected_type\"\n        :options=\"type_options\"\n      >\n        <template #first>\n          <b-form-select-option\n            class=\"justify-content-center\"\n            :value=\"null\"\n            disabled\n          >\n            -- Select reason --\n          </b-form-select-option>\n        </template>\n      </b-form-select>\n    </div>\n\n    <b-input-group prepend=\"題目id\">\n      <b-form-input v-model=\"input_hid\" placeholder=\"\"></b-form-input>\n    </b-input-group>\n\n    <b-input-group prepend=\"增加隊伍分數\">\n      <b-form-input v-model=\"input_score\" placeholder=\"\"></b-form-input>\n      <template #append>\n        <b-button\n          :disabled=\"input_hid === ''\"\n          @click=\"\n            addScore(selected_group, input_hid, selected_type, input_score)\n          \"\n        >\n          加分\n        </b-button>\n      </template>\n    </b-input-group>\n\n    <!-- <b-input-group prepend=\"更改隊伍名稱\">\n      <b-form-input v-model=\"input_name\" placeholder=\"\"></b-form-input>\n      <template #append>\n        <b-button @click=\"changeName(selected_group, input_name)\"\n          >更名</b-button\n        >\n      </template>\n    </b-input-group> -->\n\n    <b-button block v-b-toggle.a1 variant=\"info\">\n      維護用，平時請勿使用\n    </b-button>\n\n    <b-collapse id=\"a1\" accordion=\"my-accordion\" role=\"tabpanel\">\n      <b-button\n        squared\n        variant=\"primary\"\n        :disabled=\"selected_group === null\"\n        @click=\"fetchHints(selected_group)\"\n      >\n        檢視排組\n      </b-button>\n\n      <b-form-select class=\"w-50\" v-model=\"selected_hints\" :options=\"h_options\">\n        <template #first>\n          <b-form-select-option\n            class=\"justify-content-center\"\n            :value=\"null\"\n            disabled\n          >\n            -- Select hint --\n          </b-form-select-option>\n        </template>\n      </b-form-select>\n\n      <div>\n        <b-button\n          squared\n          :disabled=\"selected_hints === null\"\n          @click=\"changeDone(selected_group, selected_hints)\"\n        >\n          更改Done\n        </b-button>\n\n        <b-button\n          squared\n          :disabled=\"selected_hints === null\"\n          @click=\"changeAvail(selected_group, selected_hints)\"\n        >\n          更改Avail\n        </b-button>\n      </div>\n\n      <b-button\n        squared\n        :disabled=\"selected_hints === null\"\n        @click=\"open_hints(this.groups[i].id, 2)\"\n      >\n        開放題目\n      </b-button>\n\n      <br />\n\n      <!-- <b-input-group prepend=\"增減一般題ID\">\n        <b-form-input v-model=\"input_nmid\" placeholder=\"\"></b-form-input>\n        <template #append>\n          <b-button\n            :disabled=\"input_nmid === ''\"\n            @click=\"addNormal(input_nmid)\"\n          >\n            增加\n          </b-button>\n          <b-button\n            :disabled=\"input_nmid === ''\"\n            @click=\"deleteNormal(input_nmid)\"\n          >\n            刪除\n          </b-button>\n        </template>\n      </b-input-group> -->\n\n      <b-input-group prepend=\"增減特殊題ID\">\n        <b-form-input v-model=\"input_spid\" placeholder=\"\"></b-form-input>\n        <template #append>\n          <b-button\n            :disabled=\"input_spid === ''\"\n            @click=\"addSpecial(input_spid)\"\n          >\n            增加\n          </b-button>\n          <b-button\n            :disabled=\"input_spid === ''\"\n            @click=\"deleteSpecial(input_spid)\"\n          >\n            刪除\n          </b-button>\n        </template>\n      </b-input-group>\n\n      <b-input-group prepend=\"增加隊伍\">\n        <b-form-input\n          v-model=\"input_genid\"\n          placeholder=\"group id\"\n        ></b-form-input>\n        <template #append>\n          <b-button\n            @click=\"addGroup(input_genid)\"\n            :disabled=\"input_genid === ''\"\n            >add group</b-button\n          >\n        </template>\n      </b-input-group>\n\n      <b-button squared variant=\"primary\" v-b-modal=\"'logging'\"> Log </b-button>\n\n      <br />\n\n      <b-button squared variant=\"primary\" @click=\"deleteGroup(selected_group)\">\n        刪除該隊伍\n      </b-button>\n\n      <br />\n      <br />\n\n      <b-button squared variant=\"primary\" @click=\"Initialize()\">\n        初始化\n      </b-button>\n\n      <b-modal\n        id=\"logging\"\n        size=\"lg\"\n        title=\"Logging\"\n        hide-footer\n        centered\n        scrollable\n      >\n        <GroupLog gid=\"0\" admin=\"yes\" />\n      </b-modal>\n\n      <br />\n    </b-collapse>\n    <!-- 增加隊伍、隊伍改分數、換題目、題目解鎖、題目完成、改題目分數、bonus etc -->\n  </div>\n</template>\n\n<script>\nimport Clock from \"../components/Clock.vue\";\nimport GroupLog from \"../components/GroupLog.vue\";\n\nexport default {\n  name: \"Secret\",\n  components: {\n    Clock,\n    GroupLog,\n  },\n  data() {\n    return {\n      freeze: String,\n      hint: JSON,\n      hints: JSON,\n      group: JSON,\n      groups: [],\n      input_cdtext: \"\",\n      input_name: \"\",\n      input_score: \"\",\n      input_hid: \"\",\n      input_genid: \"\",\n      input_nmid: \"\",\n      input_spid: \"\",\n      selected_group: 0,\n      selected_hints: 0,\n      selected_type: 0,\n      g_options: [],\n      h_options: [],\n      type_options: [\n        {\n          text: \"回答工人謎題\",\n          value: 0,\n        },\n        {\n          text: \"完成上傳照片\",\n          value: 1,\n        },\n        {\n          text: \"分數錯誤修正\",\n          value: 2,\n        },\n      ],\n    };\n  },\n  mounted() {\n    this.fetchGroups();\n    this.fetchOthers();\n    //this.fetchHints(this.groups[this.selected_group].id);\n  },\n  created() {\n    //this.group_id = this.$route.query.group;\n  },\n  methods: {\n    async logging(gid, reason, curScore, addScore) {\n      var date = new Date();\n      var hhmmss =\n        date.getHours().toString().padStart(2, \"0\") +\n        \":\" +\n        date.getMinutes().toString().padStart(2, \"0\") +\n        \":\" +\n        date.getSeconds().toString().padStart(2, \"0\");\n\n      await this.axios\n        .post(\"/backend/logging/\", {\n          group_id: gid,\n          reason: reason,\n          fin_time: hhmmss,\n          cur_score: curScore,\n          get_score: addScore,\n        })\n        .then(function (response) {\n          return response.data;\n        });\n    },\n    async fetchOthers() {\n      const val_s = await this.axios\n        .get(\"/backend/others/1/\")\n        .then(function (response) {\n          return response.data;\n        });\n      //this.input_cdtext = val_s.cd_text;\n      this.freeze = val_s.freeze;\n    },\n    async fetchHints(gid) {\n      const val_groupinfo = await this.axios\n        .get(\"/backend/groupsinfo/\" + this.groups[gid].id + \"/\")\n        .then(function (response) {\n          return response.data;\n        });\n      const val_hints = val_groupinfo.hints;\n\n      this.h_options = [];\n      for (var i = 0; i < val_hints.length; i++) {\n        var jsonData = {};\n        jsonData[\"value\"] = i; //val_hints[i][\"id\"];\n        jsonData[\"text\"] = \"hint id: \" + val_hints[i][\"hint_id\"];\n        this.h_options.push(jsonData);\n      }\n\n      this.hints = val_hints;\n    },\n\n    async fetchGroups() {\n      const val_groups = await this.axios\n        .get(\"/backend/groups/\")\n        .then(function (response) {\n          return response.data;\n        });\n      //this.groups = val_groups;\n      this.g_options = [];\n      for (var i = 0; i < val_groups.length; i++) {\n        var jsonData = {};\n        jsonData[\"value\"] = i; //val_groups[i][\"id\"];\n        jsonData[\"text\"] = val_groups[i][\"name\"];\n        this.g_options.push(jsonData);\n      }\n      this.groups = val_groups;\n    },\n\n    async fetchGroup() {\n      const val_group = await this.axios\n        .get(\"/backend/groups/\" + this.selected_group + \"/\")\n        .then(function (response) {\n          return response.data;\n        });\n      this.group = val_group;\n    },\n\n    async changeName(gid, name) {\n      if (name === \"\") {\n        alert(\"隊伍名稱不可為空！\");\n        return;\n      }\n\n      if (name.length > 25) {\n        alert(\"同學你隊伍名稱也設太長了吧\");\n        return;\n      }\n\n      const val_groups = await this.axios\n        .get(\"/backend/groups/\")\n        .then(function (response) {\n          return response.data;\n        });\n      this.groups = val_groups;\n\n      if (confirm(\"確認更改隊名?\")) {\n        await this.axios\n          .patch(\"/backend/groups/\" + this.groups[gid].id + \"/\", {\n            name: name,\n          })\n          .then(function (response) {\n            return response.data;\n          });\n        alert(\"更名成功！\");\n      }\n    },\n    async cdtextUpdate(text) {\n      if (confirm(\"new cdtext: \" + text)) {\n        await this.axios.patch(\"/backend/others/1/\", {\n          cd_text: text,\n        });\n      }\n    },\n    async addScore(gid, hid, selected, score) {\n      if (score === \"\") {\n        alert(\"分數欄不可為空！\");\n        return;\n      }\n\n      const val_groups = await this.axios\n        .get(\"/backend/groups/\")\n        .then(function (response) {\n          return response.data;\n        });\n      this.groups = val_groups;\n\n      var newscore = this.groups[gid].score + parseInt(score);\n      var text =\n        \"隊伍\" +\n        gid +\n        \": \" +\n        this.groups[gid].name +\n        \"\\n目前分數：\" +\n        this.groups[gid].score +\n        \"\\n更改後分數：\" +\n        newscore;\n\n      if (confirm(text)) {\n        this.groups[gid].score = newscore;\n        await this.axios\n          .patch(\"/backend/groups/\" + this.groups[gid].id + \"/\", {\n            score: this.groups[gid].score,\n          })\n          .then(function (response) {\n            return response.data;\n          });\n\n        switch (selected) {\n          case 0:\n            await this.logging(\n              this.groups[gid].id,\n              \"回答謎題\",\n              this.groups[gid].score,\n              score\n            );\n            break;\n          case 1:\n            await this.logging(\n              this.groups[gid].id,\n              \"id:\" + hid + \" 審查完成\",\n              this.groups[gid].score,\n              score\n            );\n            break;\n          default:\n            await this.logging(\n              this.groups[gid].id,\n              \"修正分數錯誤\",\n              this.groups[gid].score,\n              score\n            );\n            break;\n        }\n\n        alert(\"加分成功！\");\n      }\n      this.fetchGroups();\n    },\n    async changeDone(gid, hid) {\n      const val_groupinfo = await this.axios\n        .get(\"/backend/groupsinfo/\" + this.groups[gid].id.toString() + \"/\")\n        .then(function (response) {\n          return response.data;\n        });\n      this.hints = val_groupinfo.hints;\n\n      var change = \"\";\n      if (this.hints[hid].done === \"yes\") change = \"no\";\n      else change = \"yes\";\n\n      var text = \"done  \" + this.hints[hid].done + \" -> \" + change;\n      if (confirm(text)) {\n        this.hints[hid].done = change;\n\n        await this.axios\n          .patch(\"/backend/hints/\" + this.hints[hid].id.toString() + \"/\", {\n            done: this.hints[hid].done,\n          })\n          .then(function (response) {\n            return response.data;\n          });\n      }\n    },\n    async changeAvail(gid, hid) {\n      const val_groupinfo = await this.axios\n        .get(\"/backend/groupsinfo/\" + this.groups[gid].id.toString() + \"/\")\n        .then(function (response) {\n          return response.data;\n        });\n      this.hints = val_groupinfo.hints;\n\n      var change = \"\";\n      if (this.hints[hid].avail === \"yes\") change = \"no\";\n      else change = \"yes\";\n\n      var text = \"avail  \" + this.hints[hid].avail + \" -> \" + change;\n      if (confirm(text)) {\n        this.hints[hid].avail = change;\n\n        await this.axios\n          .patch(\"/backend/hints/\" + this.hints[hid].id.toString() + \"/\", {\n            avail: this.hints[hid].avail,\n          })\n          .then(function (response) {\n            return response.data;\n          });\n      }\n    },\n\n    async changeFreeze() {\n      const val_s = await this.axios\n        .get(\"/backend/others/1/\")\n        .then(function (response) {\n          return response.data;\n        });\n      this.input_cdtext = val_s.cd_text;\n      this.freeze = val_s.freeze;\n\n      var change = \"\";\n      if (this.freeze === \"yes\") change = \"no\";\n      else change = \"yes\";\n\n      var text = \"freeze  \" + this.freeze + \" -> \" + change;\n      if (confirm(text)) {\n        this.freeze = change;\n\n        await this.axios\n          .patch(\"/backend/others/1/\", {\n            freeze: this.freeze,\n          })\n          .then(function (response) {\n            return response.data;\n          });\n      }\n    },\n\n    async addGroup(genid) {\n      if (confirm(`Add new group with id:${genid}?`)) {\n        const val_groups = await this.axios\n          .get(\"/backend/groups/\")\n          .then(function (response) {\n            return response.data;\n          });\n        this.groups = val_groups;\n\n        await this.axios\n          .post(\"/backend/groupsinfo/\", {\n            id: genid,\n            hints: [],\n          })\n          .then(function (response) {\n            return response.data;\n          });\n\n        await this.axios\n          .post(\"/backend/groups/\", {\n            id: genid,\n            score: 0,\n            name: \"隊伍\" + (parseInt(genid) % 1000),\n          })\n          .then(function (response) {\n            return response.data;\n          });\n      }\n    },\n\n    async deleteGroup(gid) {\n      if (confirm(`Delete group id:${this.groups[gid].id}?`)) {\n        const val_groups = await this.axios\n          .get(\"/backend/groups/\")\n          .then(function (response) {\n            return response.data;\n          });\n        this.groups = val_groups;\n\n        await this.axios\n          .delete(\"/backend/groupsinfo/\" + this.groups[gid].id + \"/\")\n          .then(function (response) {\n            return response.data;\n          });\n\n        await this.axios\n          .delete(\"/backend/groups/\" + this.groups[gid].id + \"/\")\n          .then(function (response) {\n            return response.data;\n          });\n      }\n    },\n\n    async deleteHintsLog() {\n      const val_logging = await this.axios\n        .get(\"/backend/logging/\")\n        .then(function (response) {\n          return response.data;\n        });\n\n      for (var i = val_logging.length - 1; i >= 0; --i) {\n        await this.axios\n          .delete(\"/backend/logging/\" + val_logging[i].id + \"/\")\n          .then(function (response) {\n            return response.data;\n          });\n      }\n\n      const val_hints = await this.axios\n        .get(\"/backend/hints/\")\n        .then(function (response) {\n          return response.data;\n        });\n\n      for (i = val_hints.length - 1; i >= 0; --i) {\n        await this.axios\n          .delete(\"/backend/hints/\" + val_hints[i].id + \"/\")\n          .then(function (response) {\n            return response.data;\n          });\n      }\n\n      console.log(\"deleted all.\");\n    },\n\n    async open_hints(gid, open_cnt) {\n      const val_groupinfo = await this.axios\n        .get(\"/backend/groupsinfo/\" + gid + \"/\")\n        .then(function (response) {\n          return response.data;\n        });\n      this.hints = val_groupinfo.hints;\n\n      var locked = [];\n      for (var i = 0; i < this.hints.length; ++i) {\n        if (this.hints[i].avail === \"no\") {\n          locked.push(i);\n        }\n      }\n\n      var cnt = Math.min(open_cnt, locked.length);\n      while (cnt > 0) {\n        var j = Math.floor(Math.random() * locked.length);\n        var did = locked[j];\n        console.log(did);\n        this.hints[did].avail = \"yes\";\n        locked.splice(j, 1);\n\n        await this.axios\n          .patch(\"/backend/hints/\" + this.hints[did].id + \"/\", {\n            avail: this.hints[did].avail,\n          })\n          .then(function (response) {\n            return response.data;\n          });\n        cnt -= 1;\n        console.log(\"unlocked hint \" + this.hints[did].hint_id);\n      }\n      console.log(gid + \" opened \" + open_cnt + \" hints.\");\n    },\n    async addSpecial(hid) {\n      if (hid <= 100) {\n        alert(\"hid 小於 100！\");\n        return;\n      }\n      if (confirm(\"增加特殊題目 hint_id:\" + hid)) {\n        const val_groups = await this.axios\n          .get(\"/backend/groups/\")\n          .then(function (response) {\n            return response.data;\n          });\n        this.groups = val_groups;\n\n        const val_hint = await this.axios\n          .get(\"/backend/hint/\" + hid + \"/\")\n          .then(function (response) {\n            return response.data;\n          });\n\n        var allgroups = [];\n        for (var i = 0; i < this.groups.length; ++i) {\n          allgroups.push(this.groups[i].id);\n        }\n\n        await this.axios\n          .post(\"/backend/hints/\", {\n            hint_id: hid,\n            done_by: 0,\n            avail: \"yes\",\n            done: \"no\",\n            where: val_hint.where,\n            whichgroup: allgroups,\n          })\n          .then(function (response) {\n            return response.data;\n          });\n        console.log(\"added id:\" + hid);\n      }\n    },\n\n    async deleteSpecial(hid) {\n      if (confirm(\"刪除特殊題目 hint_id:\" + hid)) {\n        const val_hints = await this.axios\n          .get(\"/backend/hints/\")\n          .then(function (response) {\n            return response.data;\n          });\n\n        var todelete;\n        for (var i = 0; i < val_hints.length; ++i) {\n          if (val_hints[i].hint_id === hid) {\n            todelete = val_hints[i].id;\n            break;\n          }\n        }\n\n        await this.axios\n          .delete(\"/backend/hints/\" + todelete + \"/\")\n          .then(function (response) {\n            return response.data;\n          });\n        console.log(\"delete id:\" + todelete);\n      }\n    },\n\n    async addNormal(hid) {\n      if (confirm(\"增加一般題目 hint_id:\" + hid)) {\n        const val_groups = await this.axios\n          .get(\"/backend/groups/\")\n          .then(function (response) {\n            return response.data;\n          });\n        this.groups = val_groups;\n\n        const val_hint = await this.axios\n          .get(\"/backend/hint/\" + hid + \"/\")\n          .then(function (response) {\n            return response.data;\n          });\n\n        for (var i = 0; i < this.groups.length; ++i) {\n          await this.axios\n            .post(\"/backend/hints/\", {\n              hint_id: hid,\n              done_by: 0,\n              avail: \"yes\",\n              done: \"no\",\n              where: val_hint.where,\n              whichgroup: [this.groups[i].id],\n            })\n            .then(function (response) {\n              return response.data;\n            });\n        }\n\n        console.log(\"added id:\" + hid);\n      }\n    },\n\n    async deleteNormal(hid) {\n      if (confirm(\"刪除一般題目 hint_id:\" + hid)) {\n        const val_hints = await this.axios\n          .get(\"/backend/hints/\")\n          .then(function (response) {\n            return response.data;\n          });\n\n        var todelete;\n        for (var i = 0; i < val_hints.length; ++i) {\n          if (val_hints[i].hint_id === hid) {\n            await this.axios\n              .delete(\"/backend/hints/\" + val_hints[i].id + \"/\")\n              .then(function (response) {\n                return response.data;\n              });\n          }\n        }\n\n        console.log(\"delete id:\" + todelete);\n      }\n    },\n\n    async create() {\n      const val_groups = await this.axios\n        .get(\"/backend/groups/\")\n        .then(function (response) {\n          return response.data;\n        });\n      this.groups = val_groups;\n\n      const val_hint = await this.axios\n        .get(\"/backend/hint/\")\n        .then(function (response) {\n          return response.data;\n        });\n\n      for (var i = 0; i < val_hint.length; ++i) {\n        if (val_hint[i].id > 100) continue;\n        for (var j = 0; j < this.groups.length; ++j) {\n          await this.axios\n            .post(\"/backend/hints/\", {\n              hint_id: val_hint[i].id,\n              done_by: 0,\n              avail: \"no\",\n              done: \"no\",\n              where: val_hint[i].where,\n              whichgroup: [this.groups[j].id],\n            })\n            .then(function (response) {\n              return response.data;\n            });\n        }\n      }\n\n      for (i = 0; i < this.groups.length; ++i) {\n        await this.axios\n          .patch(\"/backend/groups/\" + this.groups[i].id + \"/\", {\n            score: 0,\n          })\n          .then(function (response) {\n            return response.data;\n          });\n      }\n      console.log(\"score all set to 0\");\n\n      console.log(\"create finished.\");\n    },\n\n    async Initialize() {\n      if (confirm(\"Initialize?\")) {\n        await this.deleteHintsLog();\n        await this.create();\n        for (var i = 0; i < this.groups.length; ++i) {\n          await this.open_hints(this.groups[i].id, 5);\n        }\n        console.log(\"Initialize complete.\");\n      }\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n// .samecol {\n//   display: flex;\n//   justify-content: space-between;\n// }\n</style>\n"]}]}