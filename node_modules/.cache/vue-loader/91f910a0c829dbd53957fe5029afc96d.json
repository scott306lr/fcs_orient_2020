{"remainingRequest":"/home/lr/coding/javascript/fcs_orient_2021/orient_frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/lr/coding/javascript/fcs_orient_2021/orient_frontend/src/components/HintDetails.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/lr/coding/javascript/fcs_orient_2021/orient_frontend/src/components/HintDetails.vue","mtime":1619293547701},{"path":"/home/lr/coding/javascript/fcs_orient_2021/orient_frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/lr/coding/javascript/fcs_orient_2021/orient_frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/lr/coding/javascript/fcs_orient_2021/orient_frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/lr/coding/javascript/fcs_orient_2021/orient_frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBmaXJlYmFzZSBmcm9tICJmaXJlYmFzZS9hcHAiOwppbXBvcnQgImZpcmViYXNlL2FuYWx5dGljcyI7CmltcG9ydCAiZmlyZWJhc2UvYXV0aCI7CmltcG9ydCAiZmlyZWJhc2UvZmlyZXN0b3JlIjsKaW1wb3J0ICJmaXJlYmFzZS9zdG9yYWdlIjsKCmV4cG9ydCBkZWZhdWx0IHsKICBwcm9wczogewogICAgaWQ6IE51bWJlciwKICAgIGhpbnRfaWQ6IE51bWJlciwKICAgIHN0YXR1czogU3RyaW5nLAogIH0sCiAgY29tcHV0ZWQ6IHt9LAogIG1vdW50ZWQoKSB7CiAgICB0aGlzLmZldGNoSGludCgpOwogICAgdGhpcy5mZXRjaEhpbnRzKCk7CiAgICB0aGlzLmZldGNoR3JvdXAoKTsKICB9LAogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdyb3VwX2lkID0gdGhpcy4kcm91dGUucXVlcnkuZ3JvdXA7CiAgICAvL3RoaXMuZmV0Y2hEYXRhKCk7CiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaGludDogSlNPTiwKICAgICAgaGludHM6IFtdLAogICAgICBncm91cDogSlNPTiwKICAgICAgaW5wdXRfdGV4dDogIiIsCiAgICAgIHVwbG9hZG1vZGU6IGZhbHNlLAogICAgICBpbnB1dG1vZGU6IGZhbHNlLAogICAgICBmaWxlOiBudWxsLAogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGFzeW5jIGxvZ2dpbmcoZ2lkLCByZWFzb24sIGN1clNjb3JlLCBhZGRTY29yZSkgewogICAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlKCk7CiAgICAgIHZhciBoaG1tc3MgPQogICAgICAgIGRhdGUuZ2V0SG91cnMoKS50b1N0cmluZygpLnBhZFN0YXJ0KDIsICIwIikgKwogICAgICAgICI6IiArCiAgICAgICAgZGF0ZS5nZXRNaW51dGVzKCkudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAiMCIpICsKICAgICAgICAiOiIgKwogICAgICAgIGRhdGUuZ2V0U2Vjb25kcygpLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgIjAiKTsKCiAgICAgIGF3YWl0IHRoaXMuYXhpb3MKICAgICAgICAucG9zdCgiL2JhY2tlbmQvbG9nZ2luZy8iLCB7CiAgICAgICAgICBncm91cF9pZDogZ2lkLAogICAgICAgICAgcmVhc29uOiByZWFzb24sCiAgICAgICAgICBmaW5fdGltZTogaGhtbXNzLAogICAgICAgICAgY3VyX3Njb3JlOiBjdXJTY29yZSwKICAgICAgICAgIGdldF9zY29yZTogYWRkU2NvcmUsCiAgICAgICAgfSkKICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhOwogICAgICAgIH0pOwogICAgfSwKCiAgICBhc3luYyBmZXRjaEhpbnQoKSB7CiAgICAgIGNvbnN0IHZhbF9oaW50ID0gYXdhaXQgdGhpcy5heGlvcwogICAgICAgIC5nZXQoIi9iYWNrZW5kL2hpbnQvIiArIHRoaXMuaGludF9pZCArICIvIikKICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhOwogICAgICAgIH0pOwogICAgICAvL2NvbnNvbGUubG9nKHZhbF9oaW50KTsKICAgICAgaWYgKHZhbF9oaW50LmhpbnRfY2hvaWNlcyA9PT0gMykgewogICAgICAgIHRoaXMudXBsb2FkbW9kZSA9IHRydWU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5pbnB1dG1vZGUgPSB0cnVlOwogICAgICB9CiAgICAgIHRoaXMuaGludCA9IHZhbF9oaW50OwogICAgfSwKCiAgICBhc3luYyBmZXRjaEhpbnRzKCkgewogICAgICBjb25zdCB2YWxfaGludHMgPSBhd2FpdCB0aGlzLmF4aW9zCiAgICAgICAgLmdldCgiL2JhY2tlbmQvZ3JvdXBzaW5mby8iICsgdGhpcy5ncm91cF9pZCArICIvIikKICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhOwogICAgICAgIH0pOwogICAgICB0aGlzLmhpbnRzID0gdmFsX2hpbnRzLmhpbnRzOwogICAgfSwKCiAgICBhc3luYyBmZXRjaEdyb3VwKCkgewogICAgICBjb25zdCB2YWxfZ3JvdXAgPSBhd2FpdCB0aGlzLmF4aW9zCiAgICAgICAgLmdldCgiL2JhY2tlbmQvZ3JvdXBzLyIgKyB0aGlzLmdyb3VwX2lkICsgIi8iKQogICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7CiAgICAgICAgfSk7CiAgICAgIHRoaXMuZ3JvdXAgPSB2YWxfZ3JvdXA7CiAgICB9LAoKICAgIGFzeW5jIGhpbnRfc2V0X2RvbmUoaGlkKSB7CiAgICAgIGF3YWl0IHRoaXMuYXhpb3MKICAgICAgICAucGF0Y2goIi9iYWNrZW5kL2hpbnRzLyIgKyBoaWQgKyAiLyIsIHsKICAgICAgICAgIGRvbmU6ICJ5ZXMiLAogICAgICAgICAgZG9uZV9ieTogdGhpcy5ncm91cF9pZCwKICAgICAgICB9KQogICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7CiAgICAgICAgfSk7CiAgICAgIGNvbnNvbGUubG9nKCJoaW50ICIgKyBoaW50X2lkICsgIiBzZXQgZG9uZS4iKTsKICAgIH0sCgogICAgYXN5bmMgYWRkX3Njb3JlKHNjb3JlKSB7CiAgICAgIGNvbnN0IHZhbF9ncm91cCA9IGF3YWl0IHRoaXMuYXhpb3MKICAgICAgICAuZ2V0KCIvYmFja2VuZC9ncm91cHMvIiArIHRoaXMuZ3JvdXBfaWQgKyAiLyIpCiAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTsKICAgICAgICB9KTsKICAgICAgdGhpcy5ncm91cCA9IHZhbF9ncm91cDsKCiAgICAgIHRoaXMuZ3JvdXAuc2NvcmUgKz0gc2NvcmU7CiAgICAgIGF3YWl0IHRoaXMuYXhpb3MKICAgICAgICAucGF0Y2goIi9iYWNrZW5kL2dyb3Vwcy8iICsgdGhpcy5ncm91cF9pZC50b1N0cmluZygpICsgIi8iLCB7CiAgICAgICAgICBzY29yZTogdGhpcy5ncm91cC5zY29yZSwKICAgICAgICB9KQogICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7CiAgICAgICAgfSk7CiAgICAgIGNvbnNvbGUubG9nKCJhZGQgc2NvcmUuIik7CiAgICB9LAoKICAgIGFzeW5jIG9wZW5faGludHMoKSB7CiAgICAgIHZhciBsb2NrZWQgPSBbXTsKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmhpbnRzLmxlbmd0aDsgKytpKSB7CiAgICAgICAgaWYgKHRoaXMuaGludHNbaV0uYXZhaWwgPT09ICJubyIpIHsKICAgICAgICAgIGxvY2tlZC5hcHBlbmQoaSk7CiAgICAgICAgfQogICAgICB9CgogICAgICB2YXIgY250ID0gTWF0aC5taW4oMywgbG9ja2VkLmxlbmd0aCk7CiAgICAgIHdoaWxlIChjbnQgPiAwKSB7CiAgICAgICAgdmFyIGkgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBsb2NrZWQubGVuZ3RoKTsKICAgICAgICB0aGlzLmhpbnRzW2ldLmF2YWlsID0gInllcyI7CiAgICAgICAgbG9ja2VkLnNwbGljZShpLCAxKTsKCiAgICAgICAgYXdhaXQgdGhpcy5heGlvcwogICAgICAgICAgLnBhdGNoKCIvYmFja2VuZC9oaW50cy8iICsgdGhpcy5oaW50c1tpXS5pZCArICIvIiwgewogICAgICAgICAgICBhdmFpbDogdGhpcy5oaW50c1tpXS5hdmFpbCwKICAgICAgICAgIH0pCiAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7CiAgICAgICAgICB9KTsKICAgICAgICBjbnQgLT0gMTsKICAgICAgICBjb25zb2xlLmxvZygidW5sb2NrZWQgaGludCAiICsgaSk7CiAgICAgIH0KICAgIH0sCgogICAgYXN5bmMgY2hlY2tBbnN3ZXIoYW5zKSB7CiAgICAgIGlmIChhbnMgPT09ICIiKSB7CiAgICAgICAgYWxlcnQoIuetlOahiOS4jeWPr+eCuuepuu+8gSIpOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgY29uc3QgdmFsX2NoZWNraGludCA9IGF3YWl0IHRoaXMuYXhpb3MKICAgICAgICAuZ2V0KCIvYmFja2VuZC9oaW50cy8iICsgdGhpcy5pZCArICIvIikKICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhOwogICAgICAgIH0pOwoKICAgICAgaWYgKHZhbF9jaGVja2hpbnQuZG9uZSA9PT0gInllcyIpIHsKICAgICAgICBhbGVydCgi6aGM55uu5bey5a6M5oiQ77yBIik7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBpZiAoY29uZmlybSgi56K66KqN6Ly45YWlICIgKyBhbnMgKyAiID8iKSkgewogICAgICAgIGNvbnN0IHZhbF9ncm91cCA9IGF3YWl0IHRoaXMuYXhpb3MKICAgICAgICAgIC5nZXQoIi9iYWNrZW5kL2dyb3Vwcy8iICsgdGhpcy5ncm91cF9pZCArICIvIikKICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTsKICAgICAgICAgIH0pOwogICAgICAgIHRoaXMuZ3JvdXAgPSB2YWxfZ3JvdXA7CgogICAgICAgIGNvbnN0IHZhbF9oaW50cyA9IGF3YWl0IHRoaXMuYXhpb3MKICAgICAgICAgIC5nZXQoIi9iYWNrZW5kL2dyb3Vwc2luZm8vIiArIHRoaXMuZ3JvdXBfaWQgKyAiLyIpCiAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7CiAgICAgICAgICB9KTsKICAgICAgICB0aGlzLmhpbnRzID0gdmFsX2hpbnRzLmhpbnRzOwoKICAgICAgICBpZiAoYW5zID09PSB0aGlzLmhpbnRbImFuc3dlciJdKSB7CiAgICAgICAgICB0aGlzLmhpbnRfc2V0X2RvbmUodGhpcy5oaW50LmlkKTsKICAgICAgICAgIHRoaXMuYmxvY2sgPSBhd2FpdCB0aGlzLmFkZF9zY29yZSh0aGlzLmhpbnQuYmFzaWNfc2NvcmUpOwogICAgICAgICAgdGhpcy5vcGVuX2hpbnRzKCk7CgogICAgICAgICAgYXdhaXQgdGhpcy5sb2dnaW5nKAogICAgICAgICAgICB0aGlzLmdyb3VwX2lkLAogICAgICAgICAgICAi5a6M5oiQ6aGM55uuIGlkOiIgKyB0aGlzLmhpbnRfaWQudG9TdHJpbmcoKSwKICAgICAgICAgICAgdGhpcy5ncm91cC5zY29yZSwKICAgICAgICAgICAgdGhpcy5oaW50LmJhc2ljX3Njb3JlCiAgICAgICAgICApOwoKICAgICAgICAgIHRoaXMuZmV0Y2hIaW50cygpOwogICAgICAgICAgdGhpcy5mZXRjaEdyb3VwKCk7CgogICAgICAgICAgYWxlcnQoIui8uOWFpeato+eiuu+8gSIpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLmJsb2NrID0gYXdhaXQgdGhpcy5hZGRfc2NvcmUoLTUwKTsKICAgICAgICAgIGF3YWl0IHRoaXMubG9nZ2luZygKICAgICAgICAgICAgdGhpcy5ncm91cF9pZCwKICAgICAgICAgICAgIuWbnuetlOmMr+iqpCBpZDoiICsgdGhpcy5oaW50X2lkLAogICAgICAgICAgICB0aGlzLmdyb3VwLnNjb3JlLAogICAgICAgICAgICAiLTEwIgogICAgICAgICAgKTsKCiAgICAgICAgICB0aGlzLmZldGNoSGludHMoKTsKICAgICAgICAgIHRoaXMuZmV0Y2hHcm91cCgpOwogICAgICAgICAgYWxlcnQoIui8uOWFpemMr+iqpO+8gSDmiaM1MOWIhu+8gSIpOwogICAgICAgIH0KICAgICAgfQogICAgfSwKCiAgICBhc3luYyB1cGxvYWRJbWFnZSgpIHsKICAgICAgaWYgKHRoaXMuZmlsZSA9PSBudWxsKSB7CiAgICAgICAgYWxlcnQoIuiri+S4iuWCs+eFp+eJh++8gSIpOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgaWYgKHRoaXMuZmlsZSAhPSBudWxsKSB7CiAgICAgICAgdmFyIGZpcmViYXNlQ29uZmlnID0gewogICAgICAgICAgYXBpS2V5OiAiQUl6YVN5REZvcHlNRVZ0OE8wTVRYNE1wemQ3WUdCQ0h5SkwyYVo0IiwKICAgICAgICAgIGF1dGhEb21haW46ICJmY3NvcmllbnQyMDIxLmZpcmViYXNlYXBwLmNvbSIsCiAgICAgICAgICBwcm9qZWN0SWQ6ICJmY3NvcmllbnQyMDIxIiwKICAgICAgICAgIHN0b3JhZ2VCdWNrZXQ6ICJmY3NvcmllbnQyMDIxLmFwcHNwb3QuY29tIiwKICAgICAgICAgIG1lc3NhZ2luZ1NlbmRlcklkOiAiODE1NjQxMjUyNjE5IiwKICAgICAgICAgIGFwcElkOiAiMTo4MTU2NDEyNTI2MTk6d2ViOmQ3OTU2NzZlYzk2ZjE0NTc3NGM4MGUiLAogICAgICAgICAgbWVhc3VyZW1lbnRJZDogIkctWEs5SzFOWUdTMyIsCiAgICAgICAgfTsKICAgICAgICAvLyBJbml0aWFsaXplIEZpcmViYXNlCiAgICAgICAgaWYgKCFmaXJlYmFzZS5hcHBzLmxlbmd0aCkgZmlyZWJhc2UuaW5pdGlhbGl6ZUFwcChmaXJlYmFzZUNvbmZpZyk7CgogICAgICAgIGZpcmViYXNlLmFuYWx5dGljcygpOwogICAgICAgIHZhciBkYXRlID0gbmV3IERhdGUoKTsKICAgICAgICB2YXIgaGhtbXNzID0KICAgICAgICAgIGRhdGUuZ2V0SG91cnMoKS50b1N0cmluZygpLnBhZFN0YXJ0KDIsICIwIikgKwogICAgICAgICAgIi0iICsKICAgICAgICAgIGRhdGUuZ2V0TWludXRlcygpLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgIjAiKSArCiAgICAgICAgICAiLSIgKwogICAgICAgICAgZGF0ZS5nZXRTZWNvbmRzKCkudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAiMCIpOwogICAgICAgIHZhciByZSA9IC8oPzpcLihbXi5dKykpPyQvOwogICAgICAgIHZhciBleHQgPSByZS5leGVjKHRoaXMuZmlsZVsibmFtZSJdKVsxXTsKICAgICAgICB2YXIgZmlsZW5hbWUgPSBgZ3JvdXAkeyIiICsgdGhpcy5ncm91cF9pZH1faGludCR7CiAgICAgICAgICAiIiArIHRoaXMuaWQudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAiMCIpCiAgICAgICAgfV8ke2hobW1zc30uJHtleHR9YDsKICAgICAgICBjb25zb2xlLmxvZyhmaWxlbmFtZSk7CgogICAgICAgIHZhciBpbWFnZVJlZiA9IGZpcmViYXNlLnN0b3JhZ2UoKS5yZWYoKS5jaGlsZChmaWxlbmFtZSk7CiAgICAgICAgaW1hZ2VSZWYucHV0KHRoaXMuZmlsZSkudGhlbigoc25hcHNob3QpID0+IHsKICAgICAgICAgIGNvbnNvbGUubG9nKCJJbWFnZSBVcGxvYWRlZCEiKTsKICAgICAgICB9KTsKICAgICAgICBhbGVydCgi5LiK5YKz5a6M5oiQ77yBIik7CiAgICAgIH0KICAgIH0sCiAgfSwKfTsK"},{"version":3,"sources":["HintDetails.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwDA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"HintDetails.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div>\n    <b-card\n      bg-variant=\"dark\"\n      text-variant=\"white\"\n      style=\"max-width: 30rem\"\n      class=\"mb-1\"\n    >\n      <b-card-img-lazy\n        :src=\"'./Hint_Images/' + hint_id + '.jpg'\"\n        alt=\"Image\"\n        bottom\n      ></b-card-img-lazy>\n\n      <b-card-body>\n        <b-card-title>{{ hint.name }}</b-card-title>\n        <b-card-sub-title class=\"mb-2\"\n          >題目難易度：{{ hint.difficulty }}</b-card-sub-title\n        >\n        <b-card-sub-title class=\"mb-2\"\n          >題目分數：{{ hint.basic_score }}分</b-card-sub-title\n        >\n\n        <b-card-text v-html=\"hint.text\"></b-card-text>\n\n        <b-collapse id=\"collapse_upload\" v-model=\"uploadmode\" class=\"mt-2\">\n          <b-form-file accept=\"image/*\" v-model=\"file\"></b-form-file>\n          <b-button @click=\"uploadImage()\">確認</b-button>\n        </b-collapse>\n\n        <b-collapse id=\"collapse_input\" v-model=\"inputmode\" class=\"mt-2\">\n          <b-input-group>\n            <b-form-input\n              v-model=\"input_text\"\n              placeholder=\"請輸入答案\"\n            ></b-form-input>\n\n            <template #append>\n              <b-button @click=\"checkAnswer(input_text)\">確認</b-button>\n            </template>\n          </b-input-group>\n        </b-collapse>\n      </b-card-body>\n    </b-card>\n  </div>\n</template>\n\n<!-- The core Firebase JS SDK is always required and must be listed first -->\n<script src=\"https://www.gstatic.com/firebasejs/8.4.1/firebase-app.js\"></script>\n\n<!-- TODO: Add SDKs for Firebase products that you want to use\n    https://firebase.google.com/docs/web/setup#available-libraries -->\n<script src=\"https://www.gstatic.com/firebasejs/8.4.1/firebase-analytics.js\"></script>\n<script src=\"https://www.gstatic.com/firebasejs/8.4.1/firebase-storage.js\"></script>\n\n<script>\nimport firebase from \"firebase/app\";\nimport \"firebase/analytics\";\nimport \"firebase/auth\";\nimport \"firebase/firestore\";\nimport \"firebase/storage\";\n\nexport default {\n  props: {\n    id: Number,\n    hint_id: Number,\n    status: String,\n  },\n  computed: {},\n  mounted() {\n    this.fetchHint();\n    this.fetchHints();\n    this.fetchGroup();\n  },\n  created() {\n    this.group_id = this.$route.query.group;\n    //this.fetchData();\n  },\n  data() {\n    return {\n      hint: JSON,\n      hints: [],\n      group: JSON,\n      input_text: \"\",\n      uploadmode: false,\n      inputmode: false,\n      file: null,\n    };\n  },\n  methods: {\n    async logging(gid, reason, curScore, addScore) {\n      var date = new Date();\n      var hhmmss =\n        date.getHours().toString().padStart(2, \"0\") +\n        \":\" +\n        date.getMinutes().toString().padStart(2, \"0\") +\n        \":\" +\n        date.getSeconds().toString().padStart(2, \"0\");\n\n      await this.axios\n        .post(\"/backend/logging/\", {\n          group_id: gid,\n          reason: reason,\n          fin_time: hhmmss,\n          cur_score: curScore,\n          get_score: addScore,\n        })\n        .then(function (response) {\n          return response.data;\n        });\n    },\n\n    async fetchHint() {\n      const val_hint = await this.axios\n        .get(\"/backend/hint/\" + this.hint_id + \"/\")\n        .then(function (response) {\n          return response.data;\n        });\n      //console.log(val_hint);\n      if (val_hint.hint_choices === 3) {\n        this.uploadmode = true;\n      } else {\n        this.inputmode = true;\n      }\n      this.hint = val_hint;\n    },\n\n    async fetchHints() {\n      const val_hints = await this.axios\n        .get(\"/backend/groupsinfo/\" + this.group_id + \"/\")\n        .then(function (response) {\n          return response.data;\n        });\n      this.hints = val_hints.hints;\n    },\n\n    async fetchGroup() {\n      const val_group = await this.axios\n        .get(\"/backend/groups/\" + this.group_id + \"/\")\n        .then(function (response) {\n          return response.data;\n        });\n      this.group = val_group;\n    },\n\n    async hint_set_done(hid) {\n      await this.axios\n        .patch(\"/backend/hints/\" + hid + \"/\", {\n          done: \"yes\",\n          done_by: this.group_id,\n        })\n        .then(function (response) {\n          return response.data;\n        });\n      console.log(\"hint \" + hint_id + \" set done.\");\n    },\n\n    async add_score(score) {\n      const val_group = await this.axios\n        .get(\"/backend/groups/\" + this.group_id + \"/\")\n        .then(function (response) {\n          return response.data;\n        });\n      this.group = val_group;\n\n      this.group.score += score;\n      await this.axios\n        .patch(\"/backend/groups/\" + this.group_id.toString() + \"/\", {\n          score: this.group.score,\n        })\n        .then(function (response) {\n          return response.data;\n        });\n      console.log(\"add score.\");\n    },\n\n    async open_hints() {\n      var locked = [];\n      for (var i = 0; i < this.hints.length; ++i) {\n        if (this.hints[i].avail === \"no\") {\n          locked.append(i);\n        }\n      }\n\n      var cnt = Math.min(3, locked.length);\n      while (cnt > 0) {\n        var i = Math.floor(Math.random() * locked.length);\n        this.hints[i].avail = \"yes\";\n        locked.splice(i, 1);\n\n        await this.axios\n          .patch(\"/backend/hints/\" + this.hints[i].id + \"/\", {\n            avail: this.hints[i].avail,\n          })\n          .then(function (response) {\n            return response.data;\n          });\n        cnt -= 1;\n        console.log(\"unlocked hint \" + i);\n      }\n    },\n\n    async checkAnswer(ans) {\n      if (ans === \"\") {\n        alert(\"答案不可為空！\");\n        return;\n      }\n\n      const val_checkhint = await this.axios\n        .get(\"/backend/hints/\" + this.id + \"/\")\n        .then(function (response) {\n          return response.data;\n        });\n\n      if (val_checkhint.done === \"yes\") {\n        alert(\"題目已完成！\");\n        return;\n      }\n\n      if (confirm(\"確認輸入 \" + ans + \" ?\")) {\n        const val_group = await this.axios\n          .get(\"/backend/groups/\" + this.group_id + \"/\")\n          .then(function (response) {\n            return response.data;\n          });\n        this.group = val_group;\n\n        const val_hints = await this.axios\n          .get(\"/backend/groupsinfo/\" + this.group_id + \"/\")\n          .then(function (response) {\n            return response.data;\n          });\n        this.hints = val_hints.hints;\n\n        if (ans === this.hint[\"answer\"]) {\n          this.hint_set_done(this.hint.id);\n          this.block = await this.add_score(this.hint.basic_score);\n          this.open_hints();\n\n          await this.logging(\n            this.group_id,\n            \"完成題目 id:\" + this.hint_id.toString(),\n            this.group.score,\n            this.hint.basic_score\n          );\n\n          this.fetchHints();\n          this.fetchGroup();\n\n          alert(\"輸入正確！\");\n        } else {\n          this.block = await this.add_score(-50);\n          await this.logging(\n            this.group_id,\n            \"回答錯誤 id:\" + this.hint_id,\n            this.group.score,\n            \"-10\"\n          );\n\n          this.fetchHints();\n          this.fetchGroup();\n          alert(\"輸入錯誤！ 扣50分！\");\n        }\n      }\n    },\n\n    async uploadImage() {\n      if (this.file == null) {\n        alert(\"請上傳照片！\");\n        return;\n      }\n\n      if (this.file != null) {\n        var firebaseConfig = {\n          apiKey: \"AIzaSyDFopyMEVt8O0MTX4Mpzd7YGBCHyJL2aZ4\",\n          authDomain: \"fcsorient2021.firebaseapp.com\",\n          projectId: \"fcsorient2021\",\n          storageBucket: \"fcsorient2021.appspot.com\",\n          messagingSenderId: \"815641252619\",\n          appId: \"1:815641252619:web:d795676ec96f145774c80e\",\n          measurementId: \"G-XK9K1NYGS3\",\n        };\n        // Initialize Firebase\n        if (!firebase.apps.length) firebase.initializeApp(firebaseConfig);\n\n        firebase.analytics();\n        var date = new Date();\n        var hhmmss =\n          date.getHours().toString().padStart(2, \"0\") +\n          \"-\" +\n          date.getMinutes().toString().padStart(2, \"0\") +\n          \"-\" +\n          date.getSeconds().toString().padStart(2, \"0\");\n        var re = /(?:\\.([^.]+))?$/;\n        var ext = re.exec(this.file[\"name\"])[1];\n        var filename = `group${\"\" + this.group_id}_hint${\n          \"\" + this.id.toString().padStart(2, \"0\")\n        }_${hhmmss}.${ext}`;\n        console.log(filename);\n\n        var imageRef = firebase.storage().ref().child(filename);\n        imageRef.put(this.file).then((snapshot) => {\n          console.log(\"Image Uploaded!\");\n        });\n        alert(\"上傳完成！\");\n      }\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped></style>\n"]}]}