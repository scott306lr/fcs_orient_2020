{"remainingRequest":"/home/lr/coding/javascript/Orient-main/orient_frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/lr/coding/javascript/Orient-main/orient_frontend/src/views/Backend.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/lr/coding/javascript/Orient-main/orient_frontend/src/views/Backend.vue","mtime":1619073563918},{"path":"/home/lr/coding/javascript/Orient-main/orient_frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/lr/coding/javascript/Orient-main/orient_frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/lr/coding/javascript/Orient-main/orient_frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/lr/coding/javascript/Orient-main/orient_frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiQmFja2VuZCIsCiAgY29tcG9uZW50czoge30sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGhpbnQ6IEpTT04sCiAgICAgIGhpbnRzOiBKU09OLAogICAgICBncm91cHM6IFtdLAogICAgICBpbnB1dF9zY29yZTogIiIsCiAgICAgIGlucHV0X2dpZDogIiIsCiAgICAgIHNlbGVjdGVkOiAwLAogICAgICBvcHRpb25zOiBbXSwKICAgIH07CiAgfSwKICBtb3VudGVkKCkgewogICAgdGhpcy5mZXRjaEdyb3VwcygpOwogIH0sCiAgY3JlYXRlZCgpIHsKICAgIC8vdGhpcy5ncm91cF9pZCA9IHRoaXMuJHJvdXRlLnF1ZXJ5Lmdyb3VwOwogIH0sCiAgbWV0aG9kczogewogICAgYXN5bmMgZmV0Y2hIaW50KCkgewogICAgICBjb25zdCB2YWxfaGludCA9IGF3YWl0IHRoaXMuYXhpb3MKICAgICAgICAuZ2V0KCIvYmFja2VuZC9oaW50LyIgKyB0aGlzLmlkICsgIi8iKQogICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7CiAgICAgICAgfSk7CiAgICAgIHRoaXMuaGludCA9IHZhbF9oaW50OwogICAgfSwKICAgIGFzeW5jIGZldGNoSGludHMoKSB7CiAgICAgIGNvbnN0IHZhbF9oaW50cyA9IGF3YWl0IHRoaXMuYXhpb3MKICAgICAgICAuZ2V0KCIvYmFja2VuZC9ncm91cHNpbmZvLyIgKyB0aGlzLmlucHV0X2dpZCArICIvIikKICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhOwogICAgICAgIH0pOwogICAgICB0aGlzLmhpbnRzID0gdmFsX2hpbnRzLmhpbnRzOwogICAgfSwKICAgIGFzeW5jIGZldGNoR3JvdXBzKCkgewogICAgICBjb25zdCB2YWxfZ3JvdXBzID0gYXdhaXQgdGhpcy5heGlvcwogICAgICAgIC5nZXQoIi9iYWNrZW5kL2dyb3Vwcy8iKQogICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7CiAgICAgICAgfSk7CiAgICAgIC8vdGhpcy5ncm91cHMgPSB2YWxfZ3JvdXBzOwoKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2YWxfZ3JvdXBzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgdmFyIGpzb25EYXRhID0ge307CiAgICAgICAganNvbkRhdGFbInZhbHVlIl0gPSB2YWxfZ3JvdXBzW2ldWyJpZCJdOwogICAgICAgIGpzb25EYXRhWyJ0ZXh0Il0gPSB2YWxfZ3JvdXBzW2ldWyJuYW1lIl07CiAgICAgICAgdGhpcy5vcHRpb25zLnB1c2goanNvbkRhdGEpOwogICAgICB9CgogICAgICB0aGlzLmdyb3VwcyA9IHZhbF9ncm91cHM7CiAgICB9LAogICAgYXN5bmMgY2hhbmdlTmFtZShnaWQsIG5hbWUpIHsKICAgICAgaWYgKG5hbWUgPT09ICIiKSB7CiAgICAgICAgYWxlcnQoIumaiuS8jeWQjeeoseS4jeWPr+eCuuepuu+8gSIpOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBpZiAoY29uZmlybSgi56K66KqN5pu05pS56ZqK5ZCNPyIpKSB7CiAgICAgICAgYXdhaXQgdGhpcy5heGlvcwogICAgICAgICAgLnBhdGNoKCIvYmFja2VuZC9ncm91cHMvIiArIGdpZC50b1N0cmluZygpICsgIi8iLCB7CiAgICAgICAgICAgIG5hbWU6IG5hbWUsCiAgICAgICAgICB9KQogICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhOwogICAgICAgICAgfSk7CiAgICAgICAgYWxlcnQoIuabtOWQjeaIkOWKn++8gSIpOwogICAgICB9CiAgICB9LAogICAgYXN5bmMgY2hhbmdlU2NvcmUoZ2lkLCBuYW1lKSB7CiAgICAgIGlmIChuYW1lID09PSAiIikgewogICAgICAgIGFsZXJ0KCLpmorkvI3lkI3nqLHkuI3lj6/ngrrnqbrvvIEiKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgaWYgKGNvbmZpcm0oIueiuuiqjeabtOaUuemaiuWQjT8iKSkgewogICAgICAgIGF3YWl0IHRoaXMuYXhpb3MKICAgICAgICAgIC5wYXRjaCgiL2JhY2tlbmQvZ3JvdXBzLyIgKyBnaWQudG9TdHJpbmcoKSArICIvIiwgewogICAgICAgICAgICBuYW1lOiBuYW1lLAogICAgICAgICAgfSkKICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTsKICAgICAgICAgIH0pOwogICAgICAgIGFsZXJ0KCLmm7TlkI3miJDlip/vvIEiKTsKICAgICAgfQogICAgfSwKICB9LAp9Owo="},{"version":3,"sources":["Backend.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Backend.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"backend\">\n    <b-input-group prepend=\"隊伍名稱\">\n      <b-form-input\n        v-model=\"input_text\"\n        :placeholder=\"groups[1].name\"\n      ></b-form-input>\n      <template #append>\n        <b-button @click=\"changeName(input_gid, input_text)\">更名</b-button>\n      </template>\n    </b-input-group>\n\n    <b-input-group prepend=\"隊伍名稱\">\n      <b-form-input\n        v-model=\"input_gid\"\n        :placeholder=\"groups[0].name\"\n      ></b-form-input>\n      <template #append>\n        <b-button @click=\"changeScore(input_gid, input_text)\">更名</b-button>\n      </template>\n    </b-input-group>\n\n    <b-form-select class=\"w-50\" v-model=\"selected\" :options=\"options\">\n      <template #first>\n        <b-form-select-option\n          class=\"justify-content-center\"\n          :value=\"null\"\n          disabled\n        >\n          -- Select your team --\n        </b-form-select-option>\n      </template>\n    </b-form-select>\n    <div class=\"mt-3\">\n      Selected: <strong>{{ selected }}</strong>\n    </div>\n    <b-button\n      squared\n      variant=\"primary\"\n      :disabled=\"selected === null\"\n      :to=\"'/home?group=' + selected\"\n    >\n      confirm\n    </b-button>\n\n    <!-- 增加隊伍、隊伍改分數、換題目、題目解鎖、題目完成、改題目分數、bonus etc -->\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"Backend\",\n  components: {},\n  data() {\n    return {\n      hint: JSON,\n      hints: JSON,\n      groups: [],\n      input_score: \"\",\n      input_gid: \"\",\n      selected: 0,\n      options: [],\n    };\n  },\n  mounted() {\n    this.fetchGroups();\n  },\n  created() {\n    //this.group_id = this.$route.query.group;\n  },\n  methods: {\n    async fetchHint() {\n      const val_hint = await this.axios\n        .get(\"/backend/hint/\" + this.id + \"/\")\n        .then(function (response) {\n          return response.data;\n        });\n      this.hint = val_hint;\n    },\n    async fetchHints() {\n      const val_hints = await this.axios\n        .get(\"/backend/groupsinfo/\" + this.input_gid + \"/\")\n        .then(function (response) {\n          return response.data;\n        });\n      this.hints = val_hints.hints;\n    },\n    async fetchGroups() {\n      const val_groups = await this.axios\n        .get(\"/backend/groups/\")\n        .then(function (response) {\n          return response.data;\n        });\n      //this.groups = val_groups;\n\n      for (var i = 0; i < val_groups.length; i++) {\n        var jsonData = {};\n        jsonData[\"value\"] = val_groups[i][\"id\"];\n        jsonData[\"text\"] = val_groups[i][\"name\"];\n        this.options.push(jsonData);\n      }\n\n      this.groups = val_groups;\n    },\n    async changeName(gid, name) {\n      if (name === \"\") {\n        alert(\"隊伍名稱不可為空！\");\n        return;\n      }\n      if (confirm(\"確認更改隊名?\")) {\n        await this.axios\n          .patch(\"/backend/groups/\" + gid.toString() + \"/\", {\n            name: name,\n          })\n          .then(function (response) {\n            return response.data;\n          });\n        alert(\"更名成功！\");\n      }\n    },\n    async changeScore(gid, name) {\n      if (name === \"\") {\n        alert(\"隊伍名稱不可為空！\");\n        return;\n      }\n      if (confirm(\"確認更改隊名?\")) {\n        await this.axios\n          .patch(\"/backend/groups/\" + gid.toString() + \"/\", {\n            name: name,\n          })\n          .then(function (response) {\n            return response.data;\n          });\n        alert(\"更名成功！\");\n      }\n    },\n  },\n};\n</script>\n"]}]}